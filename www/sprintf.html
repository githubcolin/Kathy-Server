<!DOCTYPE html>
<!-- saved from url=(0039)http://baike.baidu.com/view/1295144.htm -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><script type="text/javascript" src="./sprintf_files/safeCall_8a8b5ca0.js"></script><script type="text/javascript" src="./sprintf_files/browser_644ef66c.js"></script><script type="text/javascript" src="./sprintf_files/jsmart_92ef846f.js"></script><script type="text/javascript" src="./sprintf_files/userMsg_a724096c.js"></script><script async="" src="./sprintf_files/analytics.js"></script><script type="text/javascript" src="./sprintf_files/adside_6267a324.js"></script><script type="text/javascript" src="./sprintf_files/collect_724e9fe8.js"></script><script type="text/javascript" src="./sprintf_files/wikiUserLogin_73800e8a.js"></script><script type="text/javascript" src="./sprintf_files/userbar_a280cc31.js"></script><script type="text/javascript" src="./sprintf_files/redEnv_42a1ca75.js"></script><script type="text/javascript" src="./sprintf_files/jquery_cookie_e1872d3b.js"></script><script type="text/javascript" src="./sprintf_files/picture_dialog_8f148e76.js"></script><script type="text/javascript" src="./sprintf_files/basenewviewjs_7e0b89af.js"></script><script type="text/javascript" src="./sprintf_files/zhixin_d30f54fe.js"></script><script type="text/javascript" src="./sprintf_files/picture_user_ff78eeb3.js"></script><script type="text/javascript" src="./sprintf_files/framework_8a71980e.js"></script><script type="text/javascript" src="./sprintf_files/jquery_ba31c430.js"></script><title>sprintf_百度百科</title><meta name="Description" content="字符串格式化命令，主要功能是把格式化的数据写入某个字符串中。sprintf 是个变参函数。..."><meta name="Keywords" content="sprintf  百度百科 baike 函数简介 说明及应用 常见问题"><link rel="apple-touch-icon" href="http://img.baidu.com/img/baike/wap/iphone4_logo.png"><link rel="stylesheet" href="http://baike.bdimg.com/static/lemma/layout/layout_8070c777.css"><link rel="stylesheet" type="text/css" href="./sprintf_files/view3_52a8c6c2.css"><script>(function(){window.PDC={_timing:{},_opt:{sample:0.01},_analyzer:{loaded:false,url:"http://static.tieba.baidu.com/tb/pms/wpo.pda.js?v=2.9",callbacks:[]},_render_start:+new Date,extend:function(b,a){for(property in b){a[property]=b[property]}return a},metadata:function(){var c=this._opt;var e={env:{user:(c.is_login==true?1:0),product_id:c.product_id,page_id:PDC._is_sample(c.sample)?c.page_id:0},render_start:this._render_start,timing:this._timing};var a=[];var d=c.special_pages||[];for(var b=0;b<d.length;b++){if(PDC._is_sample(d[b]["sample"])){a.push(d[b]["id"])}}if(a.length>0){e.env["special_id"]="["+a.join(",")+"]"}return e},init:function(a){this.extend(a,this._opt)},mark:function(a,b){this._timing[a]=b||+new Date},view_start:function(){this.mark("vt")},tti:function(){this.mark("tti")},page_ready:function(){this.mark("fvt")},first_screen:function(){var b=document.getElementsByTagName("img"),g=document.getElementsByTagName("IFRAME"),c=+new Date;var j=[],e=this;function f(i){var l=0;l=window.pageYOffset?window.pageYOffset:document.documentElement.scrollTop;try{l+=i.getBoundingClientRect().top}catch(k){}finally{return l}}this._setFS=function(){var m=e._opt["fsHeight"]||document.documentElement.clientHeight;for(var l=0;l<j.length;l++){var n=j[l],k=n.img,p=n.time,o=f(k);if(o>0&&o<m){c=p>c?p:c}}e._timing.fs=c};var h=function(){if(this.removeEventListener){this.removeEventListener("load",h,false)}j.push({img:this,time:+new Date})};for(var a=0;a<b.length;a++){(function(){var i=b[a];if(i.addEventListener){!i.complete&&i.addEventListener("load",h,false)}else{if(i.attachEvent){i.attachEvent("onreadystatechange",function(){if(i.readyState=="complete"){h.call(i,h)}})}}})()}for(var a=0,d=g.length;a<d;a++){(function(){var i=g[a];if(i.attachEvent){i.attachEvent("onload",function(){h.call(i,h)})}else{i.addEventListener("load",h,false)}})()}}};if(document.attachEvent){window.attachEvent("onload",function(){PDC.mark("let");PDC._setFS&&PDC._setFS();PDC._opt.ready!==false&&PDC._load_analyzer()})}else{window.addEventListener("load",function(){PDC.mark("lt")},false)}})();</script><style type="text/css"></style>
<link rel="stylesheet" type="text/css" href="./sprintf_files/framework_180c7805.css">
<link rel="stylesheet" type="text/css" href="./sprintf_files/redEnv_afa1db3f.css">
<link rel="stylesheet" type="text/css" href="./sprintf_files/baseviewcss3_32c56a87.css">
<link rel="stylesheet" type="text/css" href="./sprintf_files/picture_ac8cbf16.css">
<link rel="stylesheet" type="text/css" href="./sprintf_files/lemma_side_0685a54d.css">
<link rel="stylesheet" type="text/css" href="./sprintf_files/view_lemma_fb36c4d7.css">
<script type="text/javascript" src="./sprintf_files/base_b0ae69b4.js"></script>
<script type="text/javascript">F._fileMap({'http://baike.bdimg.com/static/common/ui/jquery/jquery_ba31c430.js' : ['/static/common/ui/jquery/jquery.js']});</script>
<script type="text/javascript">F._fileMap({'http://baike.bdimg.com/static/common/pkg/framework_8a71980e.js' : ['/static/common/lib/tangram/base/base.js','/static/common/ui/search/search.js','/static/common/ui/nslog/nslog.js','/static/common/lib/fis/event/event.js','/static/common/ui/enctip/enctip.js','/static/common/ui/util/util.js','/static/common/ui/eventForLemma/eventForLemma.js','/static/common/lib/tangram/ui/Dialog/Dialog.js','/static/common/ui/dialog/dialog.js','/static/common/ui/fillusername/fillusername.js','/static/common/ui/bubble/bubble.js','/static/common/ui/userlogin/userlogin.js','/static/common/ui/delegate/delegate.js','/static/common/ui/fx/fx.js','/static/common/ui/message/message.js','/static/common/lib/magic/setup/suggestion/suggestion.js','/static/widget/common/footer/footer.js','/static/widget/common/footer_pad/footer_pad.js','/static/widget/common/nav/nav.js','/static/widget/common/nav_pad/nav_pad.js','/static/widget/common/picture_dialog/picture_dialog.js','/static/widget/common/search/search.js','/static/common/lib/tangram/fx/fx.js','/static/common/lib/tangram/fx/Timeline/Timeline.js','/static/common/lib/tangram/fx/create/create.js','/static/common/lib/tangram/fx/move/move.js','/static/common/lib/tangram/fx/moveBy/moveBy.js','/static/common/lib/fis/template/template.js','/static/common/lib/magic/magic.js','/static/common/lib/magic/Base/Base.js','/static/common/lib/magic/control/control.js','/static/common/lib/magic/control/Layer/Layer.js','/static/common/lib/magic/control/Dialog/Dialog.js','/static/common/lib/magic/Background/Background.js','/static/common/lib/magic/Dialog/Dialog.js','/static/common/lib/tangram/uiBase/uiBase.js','/static/common/lib/tangram/ui/Base/Base.js','/static/common/lib/tangram/ui/Dialog/Dialog$autoDispose/Dialog$autoDispose.js','/static/common/lib/tangram/ui/behavior/behavior.js','/static/common/lib/tangram/ui/behavior/statable/statable.js','/static/common/lib/tangram/ui/Button/Button.js','/static/common/lib/tangram/i18n/i18n.js','/static/common/lib/tangram/i18n/string/string.js','/static/common/lib/tangram/i18n/cultures/cultures.js','/static/common/lib/tangram/i18n/cultures/zh-CN/zh-CN.js','/static/common/lib/tangram/ui/Dialog/Dialog$button/Dialog$button.js','/static/common/lib/tangram/ui/Dialog/Dialog$closeButton/Dialog$closeButton.js','/static/common/lib/tangram/ui/behavior/coverable/coverable.js','/static/common/lib/tangram/ui/Dialog/Dialog$coverable/Dialog$coverable.js','/static/common/lib/tangram/ui/behavior/draggable/draggable.js','/static/common/lib/tangram/ui/Dialog/Dialog$draggable/Dialog$draggable.js','/static/common/lib/tangram/ui/Dialog/Dialog$iframe/Dialog$iframe.js','/static/common/lib/tangram/ui/Dialog/Dialog$keyboard/Dialog$keyboard.js','/static/common/lib/tangram/ui/Modal/Modal.js','/static/common/lib/tangram/ui/Modal/Modal$coverable/Modal$coverable.js','/static/common/lib/tangram/ui/Dialog/Dialog$modal/Dialog$modal.js','/static/common/lib/tangram/ui/behavior/resizable/resizable.js','/static/common/lib/tangram/ui/Dialog/Dialog$resizable/Dialog$resizable.js','/static/common/lib/magic/setup/setup.js','/static/common/lib/magic/control/Popup/Popup.js','/static/common/lib/magic/Popup/Popup.js','/static/common/lib/magic/control/Suggestion/Suggestion.js']});</script>
<script type="text/javascript">F._fileMap({'http://baike.bdimg.com/static/common/ui/redEnv/redEnv_42a1ca75.js' : ['/static/common/ui/redEnv/redEnv.js']});</script>
<script type="text/javascript">F._fileMap({'http://baike.bdimg.com/static/common/ui/jquery_cookie/jquery_cookie_e1872d3b.js' : ['/static/common/ui/jquery_cookie/jquery_cookie.js']});</script>
<script type="text/javascript">F._fileMap({'http://baike.bdimg.com/static/common/ui/picture_user/picture_user_ff78eeb3.js' : ['/static/common/ui/picture_user/picture_user.js']});</script>
<script type="text/javascript">F._fileMap({'http://baike.bdimg.com/static/common/ui/wikiUserLogin/wikiUserLogin_73800e8a.js' : ['/static/common/ui/wikiUserLogin/wikiUserLogin.js']});</script>
<script type="text/javascript">F._fileMap({'http://baike.bdimg.com/static/common/ui/userMsg/userMsg_a724096c.js' : ['/static/common/ui/userMsg/userMsg.js']});</script>
<script type="text/javascript">F._fileMap({'http://baike.bdimg.com/static/common/ui/jsmart/jsmart_92ef846f.js' : ['/static/common/ui/jsmart/jsmart.js']});</script>
<script type="text/javascript">F._fileMap({'http://baike.bdimg.com/static/common/ui/browser/browser_644ef66c.js' : ['/static/common/ui/browser/browser.js']});</script>
<script type="text/javascript">F._fileMap({'http://baike.bdimg.com/static/common/ui/safeCall/safeCall_8a8b5ca0.js' : ['/static/common/ui/safeCall/safeCall.js']});</script>
<script type="text/javascript">F._fileMap({'http://baike.bdimg.com/static/common/ui/userbar/userbar_a280cc31.js' : ['/static/common/ui/userbar/userbar.js']});</script>
<script type="text/javascript">F._fileMap({'http://baike.bdimg.com/static/common/ui/suggest/suggest_9e77bc0e.js' : ['/static/common/ui/suggest/suggest.js']});</script>
<script type="text/javascript">F._fileMap({'http://baike.bdimg.com/static/widget/lemma/configModule/zhixin/zhixin_d30f54fe.js' : ['/static/widget/lemma/configModule/zhixin/zhixin.js']});</script>
<script type="text/javascript">F._fileMap({'http://baike.bdimg.com/static/lemma/pkg/basenewviewjs_7e0b89af.js' : ['/static/lemma/ui/view/catalog3/catalog3.js','/static/lemma/ui/view/lemmapic/lemmapic.js','/static/lemma/ui/view/edit/edit.js','/static/lemma/ui/view/sublemma3/sublemma3.js','/static/lemma/ui/view/BKDynamic/BKDynamic.js','/static/lemma/ui/view/lemmaPV/lemmaPV.js','/static/lemma/ui/view/sidecatalog/sidecatalog.js','/static/lemma/ui/view/lazyLoad/lazyLoad.js','/static/lemma/ui/view/usercard/usercard.js','/static/lemma/ui/view/reference3/reference3.js','/static/lemma/ui/view/reftip/reftip.js','/static/lemma/ui/view/addMeanItem/addMeanItem.js','/static/lemma/ui/view/nslog/nslog.js','/static/lemma/ui/view/horizonScroll/horizonScroll.js','/static/lemma/ui/view/exManagerTip/exManagerTip.js','/static/lemma/ui/view/fx/fx.js','/static/lemma/ui/view/returnToTop/returnToTop.js','/static/lemma/ui/view/vote3/vote3.js','/static/lemma/ui/view/contributors3/contributors3.js','/static/lemma/ui/view/updown/updown.js','/static/lemma/ui/view/userRight3/userRight3.js','/static/lemma/ui/view/topToolbar/topToolbar.js','/static/lemma/ui/view/controller3/controller3.js','/static/lemma/ui/view/maad3/maad3.js']});</script>
<script type="text/javascript">F._fileMap({'http://baike.bdimg.com/static/widget/lemma/picture_dialog/picture_dialog_8f148e76.js' : ['/static/widget/lemma/picture_dialog/picture_dialog.js']});</script>
<script type="text/javascript">F._fileMap({'http://baike.bdimg.com/static/lemma/pkg/bottomviewjs_4b6f9fa0.js' : ['/static/widget/lemma/focusAndRelation/focusAndRelation.js','/static/lemma/ui/view/vote/vote.js','/static/lemma/ui/view/albumcollection/albumcollection.js','/static/lemma/ui/view/share/share.js','/static/lemma/ui/view/coeditor/coeditor.js','/static/lemma/ui/view/relation/relation.js']});</script>
<script type="text/javascript">F._fileMap({'http://baike.bdimg.com/static/lemma/ui/view/catalog/catalog_3ff205bf.js' : ['/static/lemma/ui/view/catalog/catalog.js']});</script>
<script type="text/javascript">F._fileMap({'http://baike.bdimg.com/static/lemma/ui/view/sublemma/sublemma_efd14502.js' : ['/static/lemma/ui/view/sublemma/sublemma.js']});</script>
<script type="text/javascript">F._fileMap({'http://baike.bdimg.com/static/lemma/ui/view/ipad/ipad_02bedfd1.js' : ['/static/lemma/ui/view/ipad/ipad.js']});</script>
<script type="text/javascript">F._fileMap({'http://baike.bdimg.com/static/lemma/ui/view/albumcollection3/albumcollection3_4a681a74.js' : ['/static/lemma/ui/view/albumcollection3/albumcollection3.js']});</script>
<script type="text/javascript">F._fileMap({'http://baike.bdimg.com/static/lemma/pkg/modulejs_c6cb185a.js' : ['/static/lemma/ui/view/shipin/shipin.js','/static/lemma/ui/view/page_commonModule/page_commonModule.js','/static/lemma/ui/view/music/music.js','/static/lemma/ui/view/series/series.js']});</script>
<script type="text/javascript">F._fileMap({'http://baike.bdimg.com/static/lemma/ui/view/index/index_ddde7d9e.js' : ['/static/lemma/ui/view/index/index.js']});</script>
<script type="text/javascript">F._fileMap({'http://baike.bdimg.com/static/lemma/ui/view/pic/pic_ba3ab51e.js' : ['/static/lemma/ui/view/pic/pic.js']});</script>
<script type="text/javascript">F._fileMap({'http://baike.bdimg.com/static/lemma/ui/view/jiaoyu/jiaoyu_816f951a.js' : ['/static/lemma/ui/view/jiaoyu/jiaoyu.js']});</script>
<script type="text/javascript">F._fileMap({'http://baike.bdimg.com/static/lemma/ui/view/authModule/authModule_6c0ca137.js' : ['/static/lemma/ui/view/authModule/authModule.js']});</script>
<script type="text/javascript">F._fileMap({'http://baike.bdimg.com/static/lemma/ui/view/reference/reference_03a41edb.js' : ['/static/lemma/ui/view/reference/reference.js']});</script>
<script type="text/javascript">F._fileMap({'http://baike.bdimg.com/static/lemma/ui/view/vertical/vertical_4e1b8216.js' : ['/static/lemma/ui/view/vertical/vertical.js']});</script>
<script type="text/javascript">F._fileMap({'http://baike.bdimg.com/static/lemma/ui/view/preview_albumcollection/preview_albumcollection_238696fc.js' : ['/static/lemma/ui/view/preview_albumcollection/preview_albumcollection.js']});</script>
<script type="text/javascript">F._fileMap({'http://baike.bdimg.com/static/lemma/ui/view/describeTips/describeTips_434ed2a8.js' : ['/static/lemma/ui/view/describeTips/describeTips.js']});</script>
<script type="text/javascript">F._fileMap({'http://baike.bdimg.com/static/lemma/ui/view/collect/collect_724e9fe8.js' : ['/static/lemma/ui/view/collect/collect.js']});</script>
<script type="text/javascript">F._fileMap({'http://baike.bdimg.com/static/lemma/ui/view/tipForIE6/tipForIE6_a1301209.js' : ['/static/lemma/ui/view/tipForIE6/tipForIE6.js']});</script>
<script type="text/javascript">F._fileMap({'http://baike.bdimg.com/static/lemma/ui/view/adside/adside_6267a324.js' : ['/static/lemma/ui/view/adside/adside.js']});</script>
<script type="text/javascript">F._fileMap({'http://baike.bdimg.com/static/lemma/ui/view/tablesort/tablesort_253273c3.js' : ['/static/lemma/ui/view/tablesort/tablesort.js']});</script>
<script>PDC.mark("ht");</script><link type="text/css" rel="stylesheet" href="chrome-extension://pioclpoplcdbaefihamjohnefbikjilc/css/searchhelper.css"><script></script><script></script><style id="style-1-cropbar-clipper">/* Copyright 2014 Evernote Corporation. All rights reserved. */
.en-markup-crop-options {
    top: 18px !important;
    left: 50% !important;
    margin-left: -100px !important;
    width: 200px !important;
    border: 2px rgba(255,255,255,.38) solid !important;
    border-radius: 4px !important;
}

.en-markup-crop-options div div:first-of-type {
    margin-left: 0px !important;
}
</style><script type="text/javascript" charset="gb2312" src="./sprintf_files/ecom"></script><script type="text/javascript" src="./sprintf_files/bk.usercard.js"></script><script type="text/javascript" src="./sprintf_files/h.js" defer="defer"></script><script type="text/javascript" charset="utf-8" src="./sprintf_files/baikeDynamicData.js"></script><script type="text/javascript" src="./sprintf_files/baike.js" defer="defer"></script><script type="text/javascript" src="./sprintf_files/bkuc.js"></script><link rel="stylesheet" type="text/css" href="./sprintf_files/bk.usercard.css"><script type="text/javascript" src="./sprintf_files/get"></script><script src="./sprintf_files/logger.js"></script><script type="text/javascript" charset="utf-8" src="./sprintf_files/baikeDynamicData(1).js"></script><link href="./sprintf_files/bdsstyle.css" rel="stylesheet" type="text/css"></head><body id="view" class="u-body  small-screen"><iframe frameborder="0" style="display: none;"></iframe><div id="bdshare_s" style="display: block;"><iframe id="bdsIfr" style="position:absolute;display:none;z-index:9999;" frameborder="0"></iframe><div id="bdshare_m" style="display: none;"><div id="bdshare_m_c"><h6>分享到</h6><ul><li><a href="http://baike.baidu.com/view/1295144.htm#" class="bds_mshare mshare">一键分享</a></li><li><a href="http://baike.baidu.com/view/1295144.htm#" class="bds_qzone qqkj">QQ空间</a></li><li><a href="http://baike.baidu.com/view/1295144.htm#" class="bds_tsina xlwb">新浪微博</a></li><li><a href="http://baike.baidu.com/view/1295144.htm#" class="bds_baidu bdsc">百度云收藏</a></li><li><a href="http://baike.baidu.com/view/1295144.htm#" class="bds_renren rrw">人人网</a></li><li><a href="http://baike.baidu.com/view/1295144.htm#" class="bds_tqq txwb">腾讯微博</a></li><li><a href="http://baike.baidu.com/view/1295144.htm#" class="bds_bdxc bdxc">百度相册</a></li><li><a href="http://baike.baidu.com/view/1295144.htm#" class="bds_more">更多...</a></li></ul><p><a href="http://baike.baidu.com/view/1295144.htm#" class="goWebsite">百度分享</a></p></div></div></div><div id="wrap" class="u-wrap "><div id="header" class="u-header"><div id="userbar"><ul class="wgt-userbar"><li class="userbar_user" data-action="showUserMenu"><a href="javascript:;"><span>xingzhengde</span><img class="cmn-inline-block" src="./sprintf_files/userbar-down_8a19356f.png"></a></li><li class="userbar_mall"><a href="http://baike.baidu.com/mall/" target="_blank"><img class="cmn-inline-block" src="./sprintf_files/userbar-shop_91731dd5.png">商城</a></li><li class="userbar_message" data-action="showUserMsg"><a href="javascript:;"><img src="./sprintf_files/userbar-message_8e8ba75d.png"><img class="userbar_message_new" src="./sprintf_files/userbar-message-new_b9bca6f5.png">消息</a></li><li class="split">|</li><li><a href="http://www.baidu.com/">百度首页</a></li></ul></div><div class="wgt-searchbar wgt-searchbar-main clearfix"><div class="logo-container"><a title="到百科首页" href="http://baike.baidu.com/" class="nslog:1008"><img width="132" height="44" src="./sprintf_files/logo-baike.png"></a>
</div><div class="search"><div class="nav"><a href="http://news.baidu.com/" data-href="http://news.baidu.com/ns?tn=news&amp;cl=2&amp;rn=20&amp;ct=1&amp;fr=bks0000&amp;ie=utf-8&amp;word=">新闻</a><a href="http://www.baidu.com/" data-href="http://www.baidu.com/s?ie=utf-8&amp;fr=bks0000&amp;wd=">网页</a><a href="http://tieba.baidu.com/" data-href="http://tieba.baidu.com/f?ie=utf-8&amp;fr=bks0000&amp;kw=">贴吧</a><a href="http://zhidao.baidu.com/" data-href="http://zhidao.baidu.com/search?pn=0&amp;&amp;rn=10&amp;lm=0&amp;fr=bks0000&amp;word=">知道</a><a href="http://music.baidu.com/" data-href="http://music.baidu.com/search?f=ms&amp;ct=134217728&amp;ie=utf-8&amp;rn=&amp;lm=-1&amp;pn=30fr=bks0000&amp;key=">音乐</a><a href="http://image.baidu.com/" data-href="http://image.baidu.com/i?tn=baiduimage&amp;ct=201326592&amp;lm=-1&amp;cl=2&amp;nc=1&amp;ie=utf-8&amp;word=">图片</a><a href="http://v.baidu.com/" data-href="http://v.baidu.com/v?ct=301989888&amp;rn=20&amp;pn=0&amp;db=0&amp;s=22&amp;ie=utf-8&amp;fr=bks0000&amp;word=">视频</a><a href="http://map.baidu.com/" data-href="http://map.baidu.com/m?ie=utf-8&amp;fr=bks0000&amp;word=">地图</a><a class="baike">百科</a><a href="http://wenku.baidu.com/" data-href="http://wenku.baidu.com/search?lm=0&amp;od=0&amp;ie=utf-8&amp;fr=bks0000&amp;word=">文库</a></div><div class="form"><form id="searchForm" action="http://baike.baidu.com/search/word" method="GET" target="_self"><input id="query" name="word" type="text" autocomplete="off" autocorrect="off" value="sprintf"><button id="search" type="button">进入词条</button><button id="searchLemma" type="button">搜索词条</button><a class="help" href="http://baike.baidu.com/help" target="_blank">帮助</a></form><form id="searchLemmaForm" action="http://baike.baidu.com/search" method="GET" target="_self"><input id="searchLemmaQuery" name="word" type="hidden"><input name="pn" type="hidden" value="0"><input name="rn" type="hidden" value="0"><input name="enc" type="hidden" value="utf8"></form><ul id="suggestion" class="suggestion"><div></div><li class="extra"><span id="close">关闭</span></li></ul></div></div><div class="navbar-wrapper" id="navbar-wrapper"><a target="_blank" href="http://click.hm.baidu.com/clk?6c423331fe5c7142386d0270904a8cae" title="" style="background:url(http://baike.bdimg.com/cms/static/wanan_ct.png) 0px 0px no-repeat; width:200px; height:100px; outline:0; font-size:0; text-indent:-999em; display:block;"></a></div></div><script>F.use(['/static/common/ui/jquery/jquery.js','/static/widget/common/search/search.js'], function($, initSearchbar){$(function(){initSearchbar($('.wgt-searchbar-main'));});});</script></div><div id="nav"><div class="wgt-navbar"><div class="navbar-bg"><div class="navbar-bg-top"><div class="navbar-content layout"><div class="navbar-content-box"><dl class="index "><dt><a href="http://baike.baidu.com/">首页</a></dt></dl><dl class="cat "><dt><a>分类</a></dt><dd><div><a href="http://baike.baidu.com/ziran" target="_blank">自然</a></div><div><a href="http://baike.baidu.com/wenhua" target="_blank">文化</a></div><div><a href="http://baike.baidu.com/dili" target="_blank">地理</a></div><div><a href="http://baike.baidu.com/lishi" target="_blank">历史</a></div><div><a href="http://baike.baidu.com/shenghuo" target="_blank">生活</a></div><div><a href="http://baike.baidu.com/shehui" target="_blank">社会</a></div><div><a href="http://baike.baidu.com/yishu" target="_blank">艺术</a></div><div><a href="http://baike.baidu.com/renwu" target="_blank">人物</a></div><div><a href="http://baike.baidu.com/jingji" target="_blank">经济</a></div><div><a href="http://baike.baidu.com/keji" target="_blank">科技</a></div><div><a href="http://baike.baidu.com/tiyu" target="_blank">体育</a></div></dd></dl><dl class="special "><dt><a>特色百科</a></dt><dd><div><a href="http://baike.baidu.com/calendar/" target="_blank">历史上的今天</a></div><div><a href="http://baike.baidu.com/museum/" target="_blank">数字博物馆</a></div><div><a href="http://baike.baidu.com/city/" target="_blank">城市百科</a></div><div><a href="http://baike.baidu.com/tese/" target="_blank">特色词条</a></div><div><a href="http://baike.baidu.com/court/" target="_blank">法院百科</a></div><div><a href="http://baike.baidu.com/shiji/2014" target="_blank">史记·2014</a></div></dd></dl><dl class="user"><dt><a>用户</a></dt><dd><div><a href="http://baike.baidu.com/kedou/" target="_blank">蝌蚪团</a></div><div><a href="http://baike.baidu.com/event/ranmeng/" target="_blank">燃梦计划</a></div><div><a href="http://baike.baidu.com/task/" target="_blank">百科任务</a></div><div><a href="http://baike.baidu.com/mall/" target="_blank">百科商城</a></div></dd></dl><dl class="cooperation"><dt><a>权威合作</a></dt><dd><div><a href="http://baike.baidu.com/hezuo/" target="_blank">合作模式</a></div><div><a href="http://baike.baidu.com/hezuo/problem.html" target="_blank">合作流程</a></div><div><a href="http://baike.baidu.com/hezuo/lxwm.html" target="_blank">联系方式</a></div></dd></dl><dl class="mobile"><dt><a>手机百科</a></dt><dd><div><a href="http://baike.baidu.com/m#download" target="_blank">客户端</a></div><div><a href="http://baike.baidu.com/m#wap" target="_blank">网页版</a></div></dd></dl><div class="usercenter"><div><a href="http://baike.baidu.com/usercenter" target="_blank"><em class="cmn-icon cmn-icons cmn-icons_navbar-usercenter"></em>个人中心</a></div></div></div></div></div></div></div><script>F.use('/static/common/ui/jquery/jquery.js',function($){var timeout=null;var enableHover=false;$('.wgt-navbar a').on('focus', function() {if(!timeout){timeout=setTimeout(function(){$('.wgt-navbar').addClass('wgt-navbar-hover'); },200);}});$('.wgt-navbar dl').on('mouseover', function() {if(!timeout){timeout=setTimeout(function(){$('.wgt-navbar').addClass('wgt-navbar-hover'); },200);}});$('.wgt-navbar').on('mouseleave', function() {if(!!timeout){clearTimeout(timeout);timeout=null;}setTimeout(function(){$('.wgt-navbar').removeClass('wgt-navbar-hover');},0);});});</script></div><div id="page" class="u-page" style=""><script>function resizeBodyWidth() {if( (window.document.body.offsetWidth || window.document.body.clientWidth) <= 1280) {document.getElementById("view").className += " small-screen";}}resizeBodyWidth();</script><script>var baidu;var logPageType = "view",logLemmaId = "1295144",logSubLemmaId = "1295144";var verticalData = null;var doubtBlackList=true;var isRainbow=false;window.shareLemmaUrl = "http:\/\/baike.baidu.com\/view\/1295144.htm";window.lemmaNew = true;var sublemmaIds=[1295144];var ABtestSwitch = 0;window.baikeInfo = {};baikeInfo.expFlag = false;baikeViewInfo ={versionPriod:"new",newLemmaId:"9703430",titleInUrl:"sprintf",id:"1295144",newLemmaIdEnc:"3751d6bcb40dcd63b8d1ca35",versionId:"74207445",subLemmaId:"1295144",subVersionId:"74207445",editable:"true",title:"sprintf",expIndex:"0", subLen:"1",isMulit:0,subList:[{"subLemmaDesc":"sprintf","subLemmaId":1295144,"subVersionId":74207445}],cataList:[],pageType:"view",isPolyseme:0,isOrgLemma:0};F.use(["/static/common/ui/nslog/nslog.js","/static/common/ui/picture_user/picture_user.js"],function(nslog,PictureUser){nslog.set("smallFlow",PictureUser.getUserType());});</script><script>F.use('/static/common/ui/jquery/jquery.js', function($){$.getJSON('/cms/lemmaconfig/navbarAd.json', {t:new Date().getTime()}, function(o){if(o && o.data && o.data.length > 0){var oDa = o.data[0];if(oDa.isShow == 1){if(oDa.linkType === 'link' && oDa.linkSrc != ''){var str ='<a target="_blank" href="'+ oDa.linkHref +'" title="'+ oDa.linkText+'" style="background:url('+oDa.linkSrc+') 0px 0px no-repeat; width:200px; height:100px; outline:0; font-size:0; text-indent:-999em; display:block;"></a>';$('#navbar-wrapper').html(str);}}}else{}});});</script><div id="content-wrap" class="layout grid-m0s245"><div id="content" class="col-main article"><div id="main-wrap" class="main-wrap u-main-wrap"><div class="content-bd main-body"><div class="text" id="sec-content0"><div class="tool-wrap" style="height:24px;"> <div class="bk_title_body"> <a id="add-meanItem" class="rb-add-meanItem" href="javascript:void(0);" title="添加义项"></a> <a id="polyin" rel="nofollow" class="split-lemma" title="拆分词条" href="http://baike.baidu.com/divideload/sprintf"></a><div class="collect_btn" id="collectBtn"><div class="collect_icon"></div><span class="collect_txt">收藏</span> <div class="collect-tip">查看<a href="http://baike.baidu.com/uc/favolemma" target="_blank">我的收藏</a></div></div><div class="vote_btn vote_btn_1"><div class="vote_icon"></div><span class="vote_num">1273</span><span class="vote_text" style="display:none;">有用+1</span></div><script type="text/javascript" id="bdshare_js" data="type=tools&amp;mini=1&amp;uid=71" src="./sprintf_files/bds_s_v2.js"></script><script type="text/javascript">F.use(['/static/common/lib/tangram/base/base.js','/static/common/ui/nslog/nslog.js'],function(baidu,nslog){baidu.dom.ready(function(){var a = Math.ceil(1.2);window.bds_config = {'snsKey': {'tsina': '3417820038','tqq': '801199450'},'bdComment': ' '};if(window.shareLemmaUrl){document.getElementById('bdshell_js').src = "http://baike.baidu.com/cms/s/baiduShare/shell_v2.js?t=" + new Date().getHours();}else{document.getElementById('bdshell_js').src = "http://share.baidu.com/static/js/shell_v2.js?t=" + new Date().getHours();}var ele = baidu("#bdshareside");if (ele[0] && baidu.ie && baidu.ie <= 7) {baidu.setStyle(ele, "position", "absolute");ele[0].style.setExpression("top", "eval((document.documentElement||document.body).scrollTop+" + 270 + ") + 'px'");}window.curShare;var url = location.href;baidu(".bk_title_body #bdshare .shareIcon a").click(function(){nslog(location.href, 9067);});baidu("#bdshareside #bdshare .shareIcon a").click(function(){nslog(location.href, 9068);});var sharetime = setInterval(function(){if(baidu("#bdshare_m")[0]) {clearInterval(sharetime);baidu("#bdshare_m li a").click(function(){if(curShare == 'top') {nslog(location.href, 9067);}else if (curShare == 'side') {nslog(location.href, 9068);}});}}, 2000);var sharetime2 = setInterval(function(){if(baidu("#bdshare_pop")[0]) {clearInterval(sharetime2);baidu("#bdshare_pop li a").click(function(){if(curShare == 'top') {nslog(location.href, 9067);}else if (curShare == 'side') {nslog(location.href, 9068);}});}}, 2000);function updateShareIcon(class1, class2, text) {var ele = baidu(class1);ele.attr("class", class2);ele.html(text);}function updateShare() {updateShareIcon("ul .bds_mshare", "bds_douban db", "豆瓣网");updateShareIcon("ul .bds_qzone", "bds_tieba bdtb", "百度贴吧");updateShareIcon("ul .bds_tsina", "bds_tsohu shwb", "搜狐微博");updateShareIcon("ul .bds_tqq", "bds_kaixin001 kxw", "开心网");}baidu(".bk_title_body .bds_more").mouseover(function(){window.curShare = 'top';});baidu("#bdshareside #bdshare .bds_more").mouseover(function(){window.curShare = 'side';});});});</script><div id="bdshare" log-set-param="view_sharetop" class="bdshare_t bds_tools get-codes-bdshare bk_share log-set-param" data="{&#39;url&#39;:&#39;http://baike.baidu.com/view/1295144.htm&#39;,&#39;text&#39;:&#39;【sprintf_百度百科】字符串格式化命令，主要功能是把格式化的数据写入某个字符串中。sprintf 是个变参函数。.....（分享自@百度百科）&#39;,&#39;pic&#39;:&#39;&#39;}"><span class="bds_more"><img src="./sprintf_files/share_f2c55a22.png"><a class="shareCount" id="shareCount" href="http://baike.baidu.com/view/1295144.htm#" style="visibility: visible;">467</a></span></div></div></div><h1 class="title maintitle" id=""><span class="lemmaTitleH1">sprintf</span><span class="bk-editable-lemma-btns bk3-title-wrap"><a id="lemma-edit" class="bk-editable-edit nslog:10000401" href="javascript:void(0)" data-edit-id="9703430:sprintf" data-title="编辑">编辑</a></span></h1>         <div class="mod-top" id="card-container"><div class="card-summary nslog-area clearfix" data-nslog-type="72"><div class="card-summary-content"><div class="para">字符串格式化命令，主要功能是把格式化的数据写入某个字符串中。sprintf 是个<a target="_blank" href="http://baike.baidu.com/view/552850.htm">变参</a>函数。</div></div></div></div><div class="baseInfoWrap" id="baseInfoWrapDom"><div class="baseInfoLeft"><div class="biItem"><div class="biItemInner"><span class="biTitle">中文名</span><div class="biContent">字符串格式输出</div></div></div><div class="biItem"><div class="biItemInner"><span class="biTitle">外文名</span><div class="biContent">string print format</div></div></div><div class="biItem"><div class="biItemInner"><span class="biTitle">外语缩写</span><div class="biContent">sprintf</div></div></div></div><div class="baseInfoRight"><div class="biItem"><div class="biItemInner"><span class="biTitle">主要功能</span><div class="biContent">把格式化的数据写入某个字符串中</div></div></div><div class="biItem"><div class="biItemInner"><span class="biTitle">头文件</span><div class="biContent"><a target="_blank" href="http://baike.baidu.com/view/538727.htm">stdio.h</a></div></div></div><div class="biItem"><div class="biItemInner"><span class="biTitle">原&nbsp;&nbsp;&nbsp;&nbsp;型</span><div class="biContent">int sprintf</div></div></div></div></div><script type="text/javascript">F.use(["/static/common/lib/tangram/base/base.js","/static/common/ui/fx/fx.js"],function(baidu,Fx){baidu(".biOpen").click(function(e){var biOpenItem = baidu(this.parentNode.parentNode).siblings(".biOpenItem");var biOpenItemCon = biOpenItem.find(".biOpenItemCon");var conHeight = biOpenItemCon.height();var openHeight = parseInt(biOpenItemCon.attr("openHeight"));biOpenItem.css("display","block");var fx = new FX(biOpenItemCon[0], {"height": {from: conHeight,to: openHeight}}, 0.2, 'easeOut');fx.start();});baidu(".biClose").click(function(e){var biOpenItemCon = baidu(this).siblings(".biOpenItemCon");var conHeight = biOpenItemCon.height();var closeHeight = parseInt(biOpenItemCon.attr("closeHeight"));var that = this;var fx = new FX(biOpenItemCon[0], {"height": {from: conHeight,to: closeHeight}}, 0.2, 'easeOut', function(){that.parentNode.style.display = "none";});fx.start();});});</script>                        <div class="z-catalog nslog-area log-set-param" log-set-param="catalogshow" data-nslog-type="1016" id="catalog-0" data-subindex="0" style="width:310px;background-image:url(/static/lemma/view3/img/cate_top_15.png);"> <h2><span>目录</span></h2><dl id="catalog-holder-0" class="holder hideholder">  <dd class="catalog-item 0"><p class="z-catalog-i1"><span class="catalog-item-index1">1</span><a href="http://baike.baidu.com/view/1295144.htm#1" class="nslog:1274" catalog="true" name="STAT_ONCLICK_UNSUBMIT_CATALOG" onclick="return false;">函数简介</a></p></dd>     <dd class="hold-catalog-li er 28"> <span>▪</span> <a href="http://baike.baidu.com/view/1295144.htm#1_1" catalog="true" onclick="return false;">功能</a>   </dd>   <dd class="hold-catalog-li er 49"> <span>▪</span> <a href="http://baike.baidu.com/view/1295144.htm#1_2" catalog="true" onclick="return false;">头文件</a>   </dd>   <dd class="hold-catalog-li er 70"> <span>▪</span> <a href="http://baike.baidu.com/view/1295144.htm#1_3" catalog="true" onclick="return false;">原型</a>   </dd>   <dd class="hold-catalog-li er 91"> <span>▪</span> <a href="http://baike.baidu.com/view/1295144.htm#1_4" catalog="true" onclick="return false;">参数列表</a>   </dd>   <dd class="hold-catalog-li er 112"> <span>▪</span> <a href="http://baike.baidu.com/view/1295144.htm#1_5" catalog="true" onclick="return false;">相关函数</a>   </dd>  <dd class="catalog-item 133" style="margin-top:6px;"><p class="z-catalog-i1"><span class="catalog-item-index1">2</span><a href="http://baike.baidu.com/view/1295144.htm#2" class="nslog:1274" catalog="true" name="STAT_ONCLICK_UNSUBMIT_CATALOG" onclick="return false;">说明及应用</a></p></dd>     <dd class="hold-catalog-li er 161"> <span>▪</span> <a href="http://baike.baidu.com/view/1295144.htm#2_1" catalog="true" onclick="return false;">例子</a>   </dd>   <dd class="hold-catalog-li er 182"> <span>▪</span> <a href="http://baike.baidu.com/view/1295144.htm#2_2" catalog="true" onclick="return false;">转换字符</a>   </dd>   <dd class="hold-catalog-li er 203"> <span>▪</span> <a href="http://baike.baidu.com/view/1295144.htm#2_3" catalog="true" onclick="return false;">格式化数字字符串</a>   </dd>   <dd class="hold-catalog-li er 224"> <span>▪</span> <a href="http://baike.baidu.com/view/1295144.htm#2_4" catalog="true" onclick="return false;">字符/Ascii码</a>   </dd>  <dd class="catalog-item 245" style="margin-top:6px;"><p class="z-catalog-i1"><span class="catalog-item-index1">3</span><a href="http://baike.baidu.com/view/1295144.htm#3" class="nslog:1274" catalog="true" name="STAT_ONCLICK_UNSUBMIT_CATALOG" onclick="return false;">常见问题</a></p></dd>    </dl><div id="lemma-catalog-bottombg" style="background-image:url(/static/lemma/view3/img/cate_bottom_18.png);"></div></div><div class="clear"></div><div id="lemmaContent-0" class="lemma-main-content"> <div class="anchor-list"><a name="1" class="anchor-1"></a><a name="sub1295144_1" class="anchor-1"></a><a name="函数简介" class="anchor-1"></a></div><h2 class="headline-1"><span class="headline-1-index">1</span><span class="headline-content">函数简介</span><span class="text_edit editable-title" style="margin-left: 10px;" data-edit-id="9703430:sprintf:1"><a href="http://baike.baidu.com/view/1295144.htm#" class="nslog:1019" title="编辑本段">编辑</a></span></h2><h3 class="headline-2"><a name="1_1" class="anchor-2"></a><a name="sub1295144_1_1" class="anchor-2"></a><a name="函数简介_功能" class="anchor-2"></a><span class="headline-content">功能</span></h3><div class="para">把格式化的数据写入某个<a target="_blank" href="http://baike.baidu.com/view/56072.htm">字符串</a><a target="_blank" href="http://baike.baidu.com/view/266782.htm">缓冲区</a>。</div><h3 class="headline-2"><a name="1_2" class="anchor-2"></a><a name="sub1295144_1_2" class="anchor-2"></a><a name="函数简介_头文件" class="anchor-2"></a><span class="headline-content">头文件</span></h3><div class="para"><a target="_blank" href="http://baike.baidu.com/view/538727.htm">stdio.h</a></div><h3 class="headline-2"><a name="1_3" class="anchor-2"></a><a name="sub1295144_1_3" class="anchor-2"></a><a name="函数简介_原型" class="anchor-2"></a><span class="headline-content">原型</span></h3><div class="para">int sprintf( char *buffer, const char *format, [ argument] … );</div><h3 class="headline-2"><a name="1_4" class="anchor-2"></a><a name="sub1295144_1_4" class="anchor-2"></a><a name="函数简介_参数列表" class="anchor-2"></a><span class="headline-content">参数列表</span></h3><div class="para"><b><i>buffer</i></b>：<a target="_blank" href="http://baike.baidu.com/view/1006519.htm">char</a>型指针，指向将要写入的字符串的缓冲区。</div>
<div class="para"><i><b>format</b></i>：格式化字符串。</div>
<div class="para"><i><b>[argument]..</b></i><b><i>.</i></b>：可选参数，可以是任何类型的数据。</div>
<div class="para">返回值：字符串长度（<a target="_blank" href="http://baike.baidu.com/subview/736226/5092486.htm">strlen</a>）</div><h3 class="headline-2"><a name="1_5" class="anchor-2"></a><a name="sub1295144_1_5" class="anchor-2"></a><a name="函数简介_相关函数" class="anchor-2"></a><span class="headline-content">相关函数</span></h3><div class="para">int <a target="_blank" href="http://baike.baidu.com/view/2666640.htm">sprintf_s</a>(char *buffer,<a target="_blank" href="http://baike.baidu.com/view/3236587.htm">size_t</a> sizeOfBuffer,const char *format, [argument] ... );</div>
<div class="para">int _<a target="_blank" href="http://baike.baidu.com/view/2666640.htm">sprintf_s</a>_l(char *buffer,<a target="_blank" href="http://baike.baidu.com/view/3236587.htm">size_t</a> sizeOfBuffer,const char *format,locale_t locale ,[argument] ... );</div>
<div class="para">int swprintf_s(<a target="_blank" href="http://baike.baidu.com/view/2063825.htm">wchar_t</a> *buffer,<a target="_blank" href="http://baike.baidu.com/view/3236587.htm">size_t</a> sizeOfBuffer,const <a target="_blank" href="http://baike.baidu.com/view/2063825.htm">wchar_t</a> *format ,[argument]...);</div>
<div class="para">int _swprintf_s_l(<a target="_blank" href="http://baike.baidu.com/view/2063825.htm">wchar_t</a> *buffer,size_t sizeOfBuffer,const wchar_t *format,locale_t locale ,[argument]…);</div>
<div class="para">template &lt;size_t size&gt;</div>
<div class="para">int <a target="_blank" href="http://baike.baidu.com/view/2666640.htm">sprintf_s</a>(char (&amp;buffer)[size],const char *format, [argument] ... ); //仅存在于<a target="_blank" href="http://baike.baidu.com/view/824.htm">C++</a></div>
<div class="para">template &lt;size_t size&gt;</div>
<div class="para">int swprintf_s(wchar_t (&amp;buffer)[size],const wchar_t *format ,[argument]...); //仅存在于C++</div><div class="anchor-list"><a name="2" class="anchor-1"></a><a name="sub1295144_2" class="anchor-1"></a><a name="说明及应用" class="anchor-1"></a></div><h2 class="headline-1"><span class="headline-1-index">2</span><span class="headline-content">说明及应用</span><span class="text_edit editable-title" style="margin-left: 10px;" data-edit-id="9703430:sprintf:2"><a href="http://baike.baidu.com/view/1295144.htm#" class="nslog:1019" title="编辑本段">编辑</a></span></h2><h3 class="headline-2"><a name="2_1" class="anchor-2"></a><a name="sub1295144_2_1" class="anchor-2"></a><a name="说明及应用_例子" class="anchor-2"></a><span class="headline-content">例子</span></h3><div class="nodoubt-module"><div><div id="highlighter_568455" class="syntaxhighlighter  cpp"><div class="toolbar"><span><a href="http://baike.baidu.com/view/1295144.htm#" class="toolbar_item command_help help">?</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="cpp comments">/*例子*/</code></div></div></td></tr></tbody></table></div></div></div><div class="nodoubt-module"><div><div id="highlighter_306022" class="syntaxhighlighter  cpp"><div class="toolbar"><span><a href="http://baike.baidu.com/view/1295144.htm#" class="toolbar_item command_help help">?</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="cpp preprocessor">#include&lt;stdio.h&gt;/*某个stdio.h*/</code></div><div class="line number2 index1 alt1">&nbsp;</div><div class="line number3 index2 alt2"><code class="cpp color1 bold">int</code><code class="cpp plain">　main()</code><code class="cpp comments">/*主函数“整数”类型*/</code></div><div class="line number4 index3 alt1"><code class="cpp plain">{</code></div><div class="line number5 index4 alt2"><code class="cpp plain">　</code><code class="cpp color1 bold">char</code><code class="cpp plain">　buffer[50];</code><code class="cpp comments">/*“字符”类型的数组，下面共有50个元素。*/</code></div><div class="line number6 index5 alt1"><code class="cpp plain">　</code><code class="cpp color1 bold">int</code><code class="cpp plain">　n,a=5,b=3;</code><code class="cpp comments">/*三个变量都为“整数”类型,intn中间要有空格*/</code></div><div class="line number7 index6 alt2"><code class="cpp plain">n=</code><code class="cpp functions bold">sprintf</code><code class="cpp plain">(buffer,</code><code class="cpp string">"%d&nbsp;plus&nbsp;%d&nbsp;is&nbsp;%d"</code><code class="cpp plain">,a,b,a+b);</code><code class="cpp comments">/*赋予数值*/</code></div><div class="line number8 index7 alt1"><code class="cpp functions bold">printf</code><code class="cpp plain">(</code><code class="cpp string">"[%s]is&nbsp;a&nbsp;string&nbsp;%d&nbsp;chars&nbsp;long\n"</code><code class="cpp plain">,buffer,n);</code><code class="cpp comments">/*“格式输出函数”*/</code></div><div class="line number9 index8 alt2"><code class="cpp keyword bold">return</code><code class="cpp plain">　0;</code><code class="cpp comments">/*“返回零”</code></div><div class="line number10 index9 alt1"><code class="cpp comments">也就是程序正常退出*/</code></div><div class="line number11 index10 alt2"><code class="cpp plain">}</code></div></div></td></tr></tbody></table></div></div></div><div class="para">输出结果：</div>
<table log-set-param="table_view" class="snippet"><tbody><tr><td><div class="para">[5 plus 3 is 8] is a string 13 chars long</div>
</td></tr></tbody></table><div class="para">sprintf格式的规格如下所示。[]中的部分是可选的。</div>
<div class="para">%[指定参数][<a target="_blank" href="http://baike.baidu.com/view/390932.htm">标识符</a>][宽度][.精度]指示符</div>
<div class="para">若想输出'%'本身时, 请使用'%%'处理。</div>
<div class="para">1. 处理字符方向。负号时表示从后向前处理。</div>
<div class="para">2. 填空字元。 0 的话表示空格填 0；空格是内定值，表示空格就放着。</div>
<div class="para">3. <a target="_blank" href="http://baike.baidu.com/view/263416.htm">字符</a>总宽度。为最小宽度。</div>
<div class="para">4. 精确度。指在小数点后的浮点数位数。</div><h3 class="headline-2"><a name="2_2" class="anchor-2"></a><a name="sub1295144_2_2" class="anchor-2"></a><a name="说明及应用_转换字符" class="anchor-2"></a><span class="headline-content">转换字符</span></h3><div class="para">%% 印出百分比符号，不转换。</div>
<div class="para">%c 整数转成对应的 ASCII 字元。</div>
<div class="para">%d 整数转成十进位。</div>
<div class="para">%f 倍精确度数字转成浮点数。</div>
<div class="para">%o 整数转成八进位。</div>
<div class="para">%s 整数转成字符串。</div>
<div class="para">%x 整数转成小写十六进位。</div>
<div class="para">%X 整数转成大写十六进位。</div>
<div class="para">$money = 123.1</div>
<div class="para">$formatted = sprintf ("%06.2f", $money); // 此时变数 $ formatted 值为 "123.10"</div>
<div class="para">$formatted = sprintf ("%08.2f", $money); // 此时变数 $ formatted 值为 "00123.10"</div>
<div class="para">$formatted = sprintf ("%-08.2f", $money); // 此时变数 $ formatted 值为 "123.1000"</div>
<div class="para">$formatted = sprintf ("%.2f%%", 0.95 * 100); // 格式化为百分比</div>
<div class="para">%08.2f 解释:</div>
<div class="para">%开始符</div>
<div class="para">0是 "填空字元" 表示,如果长度不足时就用0来填满。</div>
<div class="para">8格式化后总长度</div>
<div class="para">2f小数位长度，即2位</div>
<div class="para">第3行值为"00123.10" 解释:</div>
<div class="para">因为2f是(2位)+小数点符号(1位)+前面123(3位)=6位，总长度为8位,故前面用[填空字元]0表示，即00123.10</div>
<div class="para">第4行值为"123.1000" 解释:</div>
<div class="para">-号为反向操作，然后填空字元0添加在最后面了</div>
<div class="para">在将各种类型的数据构造成字符串时，sprintf 的强大功能很少会让你失望。由于sprintf 跟printf 在用法上几乎一样，只是打印的目的地不同而已，前者打印到字符串中，后者则直接在命令行上输出。这也导致sprintf 比printf 有用得多。</div>
<div class="para">sprintf 是个<a target="_blank" href="http://baike.baidu.com/view/552850.htm">变参</a>函数，定义如下：</div>
<div class="para">int sprintf( char *buffer, const char *format [, argument] ... );</div>
<div class="para">除了前两个参数类型固定外，后面可以接任意多个参数。而它的精华，显然就在第二个参数：</div>
<div class="para">格式化字符串上。</div>
<div class="para">printf 和sprintf 都使用格式化字符串来指定串的格式，在格式串内部使用一些以“%”开头的格式说明符（format specifications）来占据一个位置，在后边的<a target="_blank" href="http://baike.baidu.com/view/552850.htm">变参</a>列表中提供相应的<a target="_blank" href="http://baike.baidu.com/view/296689.htm">变量</a>，最终函数就会用相应位置的变量来替代那个说明符，产生一个调用者想要的字符串。</div><h3 class="headline-2"><a name="2_3" class="anchor-2"></a><a name="sub1295144_2_3" class="anchor-2"></a><a name="说明及应用_格式化数字字符串" class="anchor-2"></a><span class="headline-content">格式化数字字符串</span></h3><div class="para">sprintf 最常见的应用之一莫过于把整数打印到字符串中，所以，sprintf 在大多数场合可以替代</div>
<div class="para">itoa。</div>
<div class="para">如：</div>
<div class="para">//把整数123 打印成一个字符串保存在s 中。</div>
<div class="para">sprintf(s, "%d", 123); //产生"123"</div>
<div class="para">可以指定宽度，不足的左边补空格：</div>
<div class="para">sprintf(s, "%4d%4d", 123, 4567); //产生：" 1234567"</div>
<div class="para">当然也可以左对齐：</div>
<div class="para">sprintf(s, "%-4d%4d", 123, 4567); //产生："123 4567"</div>
<div class="para">也可以按照16 进制打印：</div>
<div class="para">sprintf(s, "%8x", 4567); //小写16 进制，宽度占8 个位置，<a target="_blank" href="http://baike.baidu.com/view/1268354.htm">右对齐</a></div>
<div class="para">sprintf(s, "%-8X", 4568); //大写16 进制，宽度占8 个位置，左对齐</div>
<div class="para">这样，一个整数的16 进制字符串就很容易得到，但我们在打印16 进制内容时，通常想要一种左边补0 的等宽格式，那该怎么做呢？很简单，在表示宽度的数字前面加个0 就可以了。</div>
<div class="para">sprintf(s, "%08X", 4567); //产生："000011D7"</div>
<div class="para">上面以”%d”进行的10 进制打印同样也可以使用这种左边补0 的方式。</div>
<div class="para">这里要注意一个符号扩展的问题：比如，假如我们想打印短整数（short）-1 的内存16 进制表示形式，在Win32 平台上，一个short 型占2 个<a target="_blank" href="http://baike.baidu.com/view/60408.htm">字节</a>，所以我们自然希望用4 个16 进制数字来打印它：</div>
<div class="para">short si = -1;</div>
<div class="para">sprintf(s, "%04X", si);</div>
<div class="para">产生“FFFFFFFF”，怎么回事？因为sprintf 是个<a target="_blank" href="http://baike.baidu.com/view/552850.htm">变参</a>函数，除了前面两个参数之外，后面的参数都不是<a target="_blank" href="http://baike.baidu.com/view/1965709.htm">类型安全</a>的，函数更没有办法仅仅通过一个“%X”就能得知当初<a target="_blank" href="http://baike.baidu.com/view/2369016.htm">函数调用</a>前参数压栈时被压进来的到底是个4 <a target="_blank" href="http://baike.baidu.com/view/60408.htm">字节</a>的整数还是个2 字节的短整数，所以采取了统一4 字节的处理方式，导致参数压栈时做了符号扩展，扩展成了32 位的整数-1，打印时4 个位置不够了，就把32 位整数-1 的8 位16 进制都打印出来了。</div>
<div class="para">如果你想看si 的本来面目，那么就应该让<a target="_blank" href="http://baike.baidu.com/view/487018.htm">编译器</a>做0 扩展而不是符号扩展（扩展时二进制左边补0 而不是补符号位）：</div>
<div class="para">sprintf(s, "%04X", (unsigned short)si);</div>
<div class="para">就可以了。或者：</div>
<div class="para">unsigned short si = -1;</div>
<div class="para">sprintf(s, "%04X", si);</div>
<div class="para">sprintf 和printf 还可以按8 进制打印整数字符串，使用”%o”。注意8 进制和16 进制都不会打印出负数，都是无符号的，实际上也就是<a target="_blank" href="http://baike.baidu.com/view/296689.htm">变量</a>的内部编码的直接的16 进制或8 进制表示。</div>
<div class="para">控制浮点数打印格式</div>
<div class="para">浮点数的打印和格式控制是sprintf 的又一大常用功能，浮点数使用格式符”%f”控制，默认保留小数点后6 位数字，比如：</div>
<div class="para">sprintf(s, "%f", 3.1415926); //产生"3.141593"</div>
<div class="para">但有时我们希望自己控制打印的宽度和小数位数，这时就应该使用：”%m.nf”格式，其中m 表示打印的宽度，n 表示小数点后的位数。比如：</div>
<div class="para">sprintf(s, "%10.3f", 3.1415626); //产生：" 3.142"</div>
<div class="para">sprintf(s, "%-10.3f", 3.1415626); //产生："3.142 "</div>
<div class="para">sprintf(s, "%.3f", 3.1415626); //不指定总宽度，产生："3.142"</div>
<div class="para">注意一个问题，你猜</div>
<div class="para">int i = 100;</div>
<div class="para">sprintf(s, "%.2f", i);</div>
<div class="para">会打出什么东东来？“100.00”？对吗？自己试试就知道了，同时也试试下面这个：</div>
<div class="para">sprintf(s, "%.2f", (double)i);</div>
<div class="para">第一个打出来的肯定不是正确结果，原因跟前面提到的一样，参数压栈时调用者并不知道跟i相对应的格式控制符是个”%f”。而函数执行时函数本身则并不知道当年被压入栈里的是个整数，于是可怜的保存整数i 的那4 个<a target="_blank" href="http://baike.baidu.com/view/60408.htm">字节</a>就被不由分说地强行作为浮点数格式来解释了，整个乱套了。不过，如果有人有兴趣使用手工编码一个浮点数，那么倒可以使用这种方法来检验一下你手工编排的结果是否正确。</div><h3 class="headline-2"><a name="2_4" class="anchor-2"></a><a name="sub1295144_2_4" class="anchor-2"></a><a name="说明及应用_字符/Ascii码" class="anchor-2"></a><span class="headline-content">字符/Ascii码</span></h3><div class="para">我们知道，在C/C++语言中，char 也是一种普通的scalable 类型，除了<a target="_blank" href="http://baike.baidu.com/view/731.htm">字长</a>之外，它与short，int，long 这些类型没有本质区别，只不过被大家习惯用来表示字符和字符串而已。（或许当年该把这个类型叫做“byte”，然后现在就可以根据实际情况，使用byte 或short 来把char 通过typedef 定义出来，这样更合适些）于是，使用”%d”或者”%x”打印一个字符，便能得出它的10 进制或16 进制的ASCII 码；反过来，使用”%c”打印一个整数，便可以看到它所对应的<a target="_blank" href="http://baike.baidu.com/view/15482.htm">ASCII</a>字符。以下<a target="_blank" href="http://baike.baidu.com/view/1005329.htm">程序段</a>把所有可见字符的ASCII 码对照表打印到屏幕上（这里采用printf，注意”#”与”%X”合用时自动为16 进制数增加”0X”前缀）：</div>
<div class="para">for(int i = 32; i &lt; 127; i++) {</div>
<div class="para">printf("[ %c ]: %3d 0x%#04X\n", i, i, i);</div>
<div class="para">}</div>
<div class="para">连接字符串</div>
<div class="para">sprintf 的格式控制串中既然可以插入各种东西，并最终把它们“连成一串”，自然也就能够连接字符串，从而在许多场合可以替代strcat，但sprintf 能够一次连接多个字符串（自然也可以同时在它们中间插入别的内容，总之非常灵活）。比如：</div>
<div class="nodoubt-module"><div><div id="highlighter_607107" class="syntaxhighlighter  cpp"><div class="toolbar"><span><a href="http://baike.baidu.com/view/1295144.htm#" class="toolbar_item command_help help">?</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="cpp color1 bold">char</code><code class="cpp plain">*buf[60];</code></div><div class="line number2 index1 alt1"><code class="cpp color1 bold">char</code><code class="cpp plain">*who=</code><code class="cpp string">"I"</code><code class="cpp plain">;</code></div><div class="line number3 index2 alt2"><code class="cpp color1 bold">char</code><code class="cpp plain">*whom=</code><code class="cpp string">"CSDN"</code><code class="cpp plain">;</code></div><div class="line number4 index3 alt1"><code class="cpp functions bold">sprintf</code><code class="cpp plain">(buf,</code><code class="cpp string">"%slove%s."</code><code class="cpp plain">,who,whom);</code></div><div class="line number5 index4 alt2"><code class="cpp functions bold">printf</code><code class="cpp plain">(</code><code class="cpp string">"%s"</code><code class="cpp plain">,buf);</code></div><div class="line number6 index5 alt1"><code class="cpp comments">//输出结果："IloveCSDN."</code></div></div></td></tr></tbody></table></div></div></div><div class="para">strcat 只能连接字符串（一段以'\0'结尾的字符<a target="_blank" href="http://baike.baidu.com/view/209670.htm">数组</a>或叫做字符缓冲，null-terminated-string），但有时我们有两段字符<a target="_blank" href="http://baike.baidu.com/view/266782.htm">缓冲区</a>，他们并不是以 ’’结尾。比如许多从第三方<a target="_blank" href="http://baike.baidu.com/view/905012.htm">库函数</a>中返回的字符<a target="_blank" href="http://baike.baidu.com/view/209670.htm">数组</a>，从硬件或者<a target="_blank" href="http://baike.baidu.com/view/1542295.htm">网络传输</a>中读进来的字符流，它们未必每一段字符序列后面都有个相应的’’来结尾。如果直接连接，不管是sprintf 还是strcat 肯定会导致非法内存操作，而strncat 也至少要求第一个参数是个null-terminated-string，那该怎么办呢？我们自然会想起前面介绍打印整数和浮点数时可以指定宽度，字符串也一样的。比如：</div>
<div class="para">char a1[] = {'A', 'B', 'C', 'D', 'E', 'F', 'G'};</div>
<div class="para">char a2[] = {'H', 'I', 'J', 'K', 'L', 'M', 'N'};</div>
<div class="para">如果：</div>
<div class="para">sprintf(s, "%s%s", a1, a2); //Don't do that!</div>
<div class="para">十有八九要出问题了。是否可以改成：</div>
<div class="para">sprintf(s, "%7s%7s", a1, a2);</div>
<div class="para">也没好到哪儿去，正确的应该是：</div>
<div class="para">sprintf(s, "%.7s%.7s", a1, a2);//产生："ABCDEFGHIJKLMN"</div>
<div class="para">这可以类比打印浮点数的”%m/nf”，在”%m.ns”中，m 表示占用宽度（<a target="_blank" href="http://baike.baidu.com/view/263416.htm">字符</a>串长度不足时补空格，超出了则按照实际宽度打印），n 才表示从相应的字符串中最多取用的字符数。通常在打印字符串时m 没什么大用，还是点号后面的n 用的多。自然，也可以前后都只取部分<a target="_blank" href="http://baike.baidu.com/view/263416.htm">字符</a>：</div>
<div class="para">sprintf(s, "%.6s%.5s", a1, a2);//产生："ABCDEFHIJKL"</div>
<div class="para">在许多时候，我们或许还希望这些格式控制符中用以指定长度信息的数字是动态的，而不是静态指定的，因为许多时候，程序要到运行时才会清楚到底需要取<a target="_blank" href="http://baike.baidu.com/view/263416.htm">字符</a><a target="_blank" href="http://baike.baidu.com/view/209670.htm">数组</a>中的几个字符，这种动态的宽度/精度设置功能在sprintf 的实现中也被考虑到了，sprintf 采用”*”来占用一个本来需要一个指定宽度或精度的常数数字的位置，同样，而实际的宽度或精度就可以和其它被打印的<a target="_blank" href="http://baike.baidu.com/view/296689.htm">变量</a>一样被提供出来，于是，上面的例子可以变成：</div>
<div class="para">sprintf(s, "%.*s%.*s", 7, a1, 7, a2);</div>
<div class="para">或者：</div>
<div class="para">sprintf(s, "%.*s%.*s", sizeof(a1), a1, sizeof(a2), a2);</div>
<div class="para">实际上，前面介绍的打印<a target="_blank" href="http://baike.baidu.com/view/263416.htm">字符</a>、整数、浮点数等都可以动态指定那些<a target="_blank" href="http://baike.baidu.com/view/346799.htm">常量</a>值，比如：</div>
<div class="nodoubt-module"><div><div id="highlighter_123165" class="syntaxhighlighter  cpp"><div class="toolbar"><span><a href="http://baike.baidu.com/view/1295144.htm#" class="toolbar_item command_help help">?</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="cpp functions bold">sprintf</code><code class="cpp plain">(s,</code><code class="cpp string">"%-*d"</code><code class="cpp plain">,4,</code><code class="cpp string">'A'</code><code class="cpp plain">);</code><code class="cpp comments">//产生"65"</code></div><div class="line number2 index1 alt1"><code class="cpp functions bold">sprintf</code><code class="cpp plain">(s,</code><code class="cpp string">"%#0*X"</code><code class="cpp plain">,8,128);</code><code class="cpp comments">//产生"0X000080"，"#"产生0X</code></div><div class="line number3 index2 alt2"><code class="cpp functions bold">sprintf</code><code class="cpp plain">(s,</code><code class="cpp string">"%*.*f"</code><code class="cpp plain">,10,2,3.1415926);</code><code class="cpp comments">//产生"3.14"</code></div></div></td></tr></tbody></table></div></div></div><div class="para">打印地址信息</div>
<div class="para">有时<a target="_blank" href="http://baike.baidu.com/view/499639.htm">调试程序</a>时，我们可能想查看某些<a target="_blank" href="http://baike.baidu.com/view/296689.htm">变量</a>或者成员的地址，由于地址或者<a target="_blank" href="http://baike.baidu.com/view/159417.htm">指针</a>也不过是个32 位的数，你完全可以使用打印<a target="_blank" href="http://baike.baidu.com/view/6052699.htm">无符号整数</a>的”%u”把他们打印出来：</div>
<div class="nodoubt-module"><div><div id="highlighter_627995" class="syntaxhighlighter  cpp"><div class="toolbar"><span><a href="http://baike.baidu.com/view/1295144.htm#" class="toolbar_item command_help help">?</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="cpp functions bold">sprintf</code><code class="cpp plain">(s,</code><code class="cpp string">"%u"</code><code class="cpp plain">,&amp;i);</code></div></div></td></tr></tbody></table></div></div></div><div class="para">不过通常人们还是喜欢使用16 进制而不是10 进制来显示一个地址：</div>
<div class="nodoubt-module"><div><div id="highlighter_706606" class="syntaxhighlighter  cpp"><div class="toolbar"><span><a href="http://baike.baidu.com/view/1295144.htm#" class="toolbar_item command_help help">?</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="cpp functions bold">sprintf</code><code class="cpp plain">(s,</code><code class="cpp string">"%08X"</code><code class="cpp plain">,&amp;i);</code></div></div></td></tr></tbody></table></div></div></div><div class="para">然而，这些都是间接的方法，对于地址打印，sprintf 提供了专门的”%p”：</div>
<div class="nodoubt-module"><div><div id="highlighter_242957" class="syntaxhighlighter  cpp"><div class="toolbar"><span><a href="http://baike.baidu.com/view/1295144.htm#" class="toolbar_item command_help help">?</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="cpp functions bold">sprintf</code><code class="cpp plain">(s,</code><code class="cpp string">"%p"</code><code class="cpp plain">,&amp;i);</code></div></div></td></tr></tbody></table></div></div></div><div class="para">我觉得它实际上就相当于：</div>
<div class="nodoubt-module"><div><div id="highlighter_590821" class="syntaxhighlighter  cpp"><div class="toolbar"><span><a href="http://baike.baidu.com/view/1295144.htm#" class="toolbar_item command_help help">?</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="cpp functions bold">sprintf</code><code class="cpp plain">(s,</code><code class="cpp string">"%0*x"</code><code class="cpp plain">,2*</code><code class="cpp keyword bold">sizeof</code><code class="cpp plain">(</code><code class="cpp keyword bold">void</code><code class="cpp plain">*),&amp;i);</code></div></div></td></tr></tbody></table></div></div></div><div class="para">利用sprintf 的返回值</div>
<div class="para">较少有人注意printf/sprintf 函数的返回值，但有时它却是有用的，sprintf 返回了本次<a target="_blank" href="http://baike.baidu.com/view/2369016.htm">函数调用</a>最终打印到字符<a target="_blank" href="http://baike.baidu.com/view/266782.htm">缓冲区</a>中的字符数目。也就是说每当一次sprinf 调用结束以后，你无须再调用一次strlen 便已经知道了结果字符串的长度。如：</div>
<div class="nodoubt-module"><div><div id="highlighter_557074" class="syntaxhighlighter  cpp"><div class="toolbar"><span><a href="http://baike.baidu.com/view/1295144.htm#" class="toolbar_item command_help help">?</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="cpp plain">intlen=</code><code class="cpp functions bold">sprintf</code><code class="cpp plain">(s,</code><code class="cpp string">"%d"</code><code class="cpp plain">,i);</code></div></div></td></tr></tbody></table></div></div></div><div class="para">对于正整数来说，len 便等于整数i 的10 进制位数。</div>
<div class="para">下面的是个完整的例子，产生10 个[0, 100)之间的随机数，并将他们打印到一个字符<a target="_blank" href="http://baike.baidu.com/view/209670.htm">数组</a>s 中，</div>
<div class="para">以逗号分隔开。</div>
<div class="nodoubt-module"><div><div id="highlighter_96256" class="syntaxhighlighter  cpp"><div class="toolbar"><span><a href="http://baike.baidu.com/view/1295144.htm#" class="toolbar_item command_help help">?</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="cpp preprocessor">#include&lt;stdio.h&gt;</code></div><div class="line number2 index1 alt1"><code class="cpp preprocessor">#include&lt;stdlib.h&gt;</code></div><div class="line number3 index2 alt2"><code class="cpp preprocessor">#include&lt;time.h&gt;</code></div><div class="line number4 index3 alt1"><code class="cpp plain">intmain()</code></div><div class="line number5 index4 alt2"><code class="cpp plain">{</code></div><div class="line number6 index5 alt1"><code class="cpp functions bold">srand</code><code class="cpp plain">(</code><code class="cpp functions bold">time</code><code class="cpp plain">(0));</code></div><div class="line number7 index6 alt2"><code class="cpp plain">chars[64];</code></div><div class="line number8 index7 alt1"><code class="cpp plain">intoffset=0;</code></div><div class="line number9 index8 alt2"><code class="cpp keyword bold">for</code><code class="cpp plain">(inti=0;i&lt;10;i++)</code></div><div class="line number10 index9 alt1"><code class="cpp plain">{</code></div><div class="line number11 index10 alt2"><code class="cpp plain">offset+=</code><code class="cpp functions bold">sprintf</code><code class="cpp plain">(s+offset,</code><code class="cpp string">"%d,"</code><code class="cpp plain">,</code><code class="cpp functions bold">rand</code><code class="cpp plain">()%100);</code></div><div class="line number12 index11 alt1"><code class="cpp plain">}</code></div><div class="line number13 index12 alt2"><code class="cpp plain">s[offset-1]=</code><code class="cpp string">'\n'</code><code class="cpp plain">;</code><code class="cpp comments">//将最后一个逗号换成换行符。</code></div><div class="line number14 index13 alt1"><code class="cpp functions bold">printf</code><code class="cpp plain">(s);</code></div><div class="line number15 index14 alt2"><code class="cpp plain">return0;</code></div><div class="line number16 index15 alt1"><code class="cpp plain">}</code></div></div></td></tr></tbody></table></div></div></div><div class="para">设想当你从数据库中取出一条记录，然后希望把他们的各个字段按照某种规则连接成一个字符串时，就可以使用这种方法，从理论上讲，他应该比不断的strcat 效率高，因为strcat 每次调用都需要先找到最后的那个’’的位置，而在上面给出的例子中，我们每次都利用sprintf 返回值把这个位置直接记下来了。</div>
<div class="para">MSDN中例子：</div>
<div class="para">//crt_sprintf.c//compilewith:/W3//Thisprogramusessprintftoformatvarious//dataandplacetheminthestringnamedbuffer.</div>
<div class="nodoubt-module"><div><div id="highlighter_584781" class="syntaxhighlighter  cpp"><div class="toolbar"><span><a href="http://baike.baidu.com/view/1295144.htm#" class="toolbar_item command_help help">?</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="cpp preprocessor">#include&lt;stdio.h&gt;</code></div><div class="line number2 index1 alt1"><code class="cpp plain">intmain(</code><code class="cpp keyword bold">void</code><code class="cpp plain">)</code></div><div class="line number3 index2 alt2"><code class="cpp plain">{</code></div><div class="line number4 index3 alt1"><code class="cpp plain">charbuffer[200],s[]=</code><code class="cpp string">"computer"</code><code class="cpp plain">,c=</code><code class="cpp string">'l'</code><code class="cpp plain">;</code></div><div class="line number5 index4 alt2"><code class="cpp plain">inti=35,j;</code></div><div class="line number6 index5 alt1"><code class="cpp plain">floatfp=1.7320534f;</code><code class="cpp comments">//Formatandprintvariousdata:</code></div><div class="line number7 index6 alt2"><code class="cpp plain">j=</code><code class="cpp functions bold">sprintf</code><code class="cpp plain">(buffer,</code><code class="cpp string">"String:%s\n"</code><code class="cpp plain">,s);</code><code class="cpp comments">//C4996</code></div><div class="line number8 index7 alt1"><code class="cpp plain">j+=</code><code class="cpp functions bold">sprintf</code><code class="cpp plain">(buffer+j,</code><code class="cpp string">"Character:%c\n"</code><code class="cpp plain">,c);</code><code class="cpp comments">//C4996</code></div><div class="line number9 index8 alt2"><code class="cpp plain">j+=</code><code class="cpp functions bold">sprintf</code><code class="cpp plain">(buffer+j,</code><code class="cpp string">"Integer:%d\n"</code><code class="cpp plain">,i);</code><code class="cpp comments">//C4996</code></div><div class="line number10 index9 alt1"><code class="cpp plain">j+=</code><code class="cpp functions bold">sprintf</code><code class="cpp plain">(buffer+j,</code><code class="cpp string">"Real:%f\n"</code><code class="cpp plain">,fp);</code><code class="cpp comments">//C4996</code></div><div class="line number11 index10 alt2"><code class="cpp comments">//Note:sprintfisdeprecated;considerusingsprintf_sinstead</code></div><div class="line number12 index11 alt1"><code class="cpp functions bold">printf</code><code class="cpp plain">(</code><code class="cpp string">"Output:\n%s\ncharactercount=%d\n"</code><code class="cpp plain">,buffer,j);</code></div><div class="line number13 index12 alt2"><code class="cpp plain">}</code></div><div class="line number14 index13 alt1"><code class="cpp plain">Copy</code></div><div class="line number15 index14 alt2"><code class="cpp plain">Output:</code></div><div class="line number16 index15 alt1"><code class="cpp plain">String:computer</code></div><div class="line number17 index16 alt2"><code class="cpp plain">Character:l</code></div><div class="line number18 index17 alt1"><code class="cpp plain">Integer:35</code></div><div class="line number19 index18 alt2"><code class="cpp plain">Real:1.732053</code></div><div class="line number20 index19 alt1"><code class="cpp plain">charactercount=79</code></div></div></td></tr></tbody></table></div></div></div><div class="anchor-list"><a name="3" class="anchor-1"></a><a name="sub1295144_3" class="anchor-1"></a><a name="常见问题" class="anchor-1"></a></div><h2 class="headline-1"><span class="headline-1-index">3</span><span class="headline-content">常见问题</span><span class="text_edit editable-title" style="margin-left: 10px;" data-edit-id="9703430:sprintf:3"><a href="http://baike.baidu.com/view/1295144.htm#" class="nslog:1019" title="编辑本段">编辑</a></span></h2><div class="para">sprintf 是个<a target="_blank" href="http://baike.baidu.com/view/552850.htm">变参</a>函数，使用时经常出问题，而且只要出问题通常就是能导致程序崩溃的内存访问错误，但好在由sprintf 误用导致的问题虽然严重，却很容易找出，无非就是那么几种情况，通常用眼睛再把出错的代码多看几眼就看出来了。</div>
<div class="para"><a target="_blank" href="http://baike.baidu.com/view/36638.htm"><b>缓冲区溢出</b></a></div>
<div class="para">第一个参数的长度太短了，没的说，给个大点的地方吧。当然也可能是后面的参数的问题，建议<a target="_blank" href="http://baike.baidu.com/view/552850.htm">变参</a>对应一定要细心，而打印<a target="_blank" href="http://baike.baidu.com/view/263416.htm">字符</a>串时，尽量使用”%.ns”的形式指定最大字符数。</div>
<div class="para"><b>忘记了第一个参数</b></div>
<div class="para">低级得不能再低级问题，用printf 用得太惯了。//偶就常犯。：。（</div>
<div class="para"><b>变参对应出问题</b></div>
<div class="para">通常是忘记了提供对应某个格式符的<a target="_blank" href="http://baike.baidu.com/view/552850.htm">变参</a>，导致以后的参数统统错位，检查检查吧。尤其是对应”*”的那些参数，都提供了吗？不要把一个整数对应一个”%s”，<a target="_blank" href="http://baike.baidu.com/view/487018.htm">编译器</a>会觉得你欺她太甚了（<a target="_blank" href="http://baike.baidu.com/view/487018.htm">编译器</a>是obj 和exe 的妈妈，应该是个女的，:P）。</div>
<div class="para"><b>sprintf_s和snprintf</b></div>
<div class="para"><a target="_blank" href="http://baike.baidu.com/view/2666640.htm">sprintf_s</a>()是sprintf()的安全版本，通过指定<a target="_blank" href="http://baike.baidu.com/view/266782.htm">缓冲区</a>长度来避免sprintf()存在的溢出风险 。在使用VS2008时如果你使用了sprintf函数，那么<a target="_blank" href="http://baike.baidu.com/view/487018.htm">编译器</a>会发出警告：使用sprintf存在风险，建议使用<a target="_blank" href="http://baike.baidu.com/view/2666640.htm">sprintf_s</a>。这个安全版本的原型是：</div>
<div class="para">int sprintf_s(char *buffer,size_t sizeOfBuffer,const char *format [,argument] ... );</div>
<div class="para">不过sprintf_s()是微软私有的函数，考虑到跨平台移植，最好使用snprintf()。两者的原型基本相同：</div>
<div class="para">int _snprintf(char *buffer, size_t count, const char *format [,argument] ... );</div>
<div class="para"><b>strftime</b></div>
<div class="para">spritf 还有个不错的表妹：strftime，专门用于格式化时间字符串的，用法跟她表哥很像，也是一大堆格式控制符，只是毕竟小姑娘家心细，她还要调用者指定<a target="_blank" href="http://baike.baidu.com/view/266782.htm">缓冲区</a>的最大长度，可能是为了在出现问题时可以推卸责任吧。这里举个例子：</div>
<div class="para">time_t t = time(0);</div>
<div class="para">//产生"YYYY-MM-DD hh:mm:ss"格式的字符串。</div>
<div class="para">char s[32];</div>
<div class="para">strftime(s, sizeof(s), "%Y-%m-%d %H:%M:%S", localtime(&amp;t));</div>
<div class="para">sprintf 在MFC 中也能找到他的知音：CString::Format，strftime 在MFC 中自然也有她的同道：CTime::Format，这一对由于从<a target="_blank" href="http://baike.baidu.com/view/125370.htm">面向对象</a>那里得到了赞助，用以写出的代码更觉优雅。</div>
 </div> <link type="text/css" rel="stylesheet" href="./sprintf_files/shCore_74699441.css"><link type="text/css" rel="stylesheet" href="./sprintf_files/shCoreDefault_611a030a.css"><script type="text/javascript" src="./sprintf_files/XRegExp_73cf873a.js"></script><script type="text/javascript" src="./sprintf_files/shCore_b18e317f.js"></script><script type="text/javascript" src="./sprintf_files/shBrushCpp.js"></script><script type="text/javascript" src="./sprintf_files/shBrushCpp.js"></script><script type="text/javascript" src="./sprintf_files/shBrushCpp.js"></script><script type="text/javascript" src="./sprintf_files/shBrushCpp.js"></script><script type="text/javascript" src="./sprintf_files/shBrushCpp.js"></script><script type="text/javascript" src="./sprintf_files/shBrushCpp.js"></script><script type="text/javascript" src="./sprintf_files/shBrushCpp.js"></script><script type="text/javascript" src="./sprintf_files/shBrushCpp.js"></script><script type="text/javascript" src="./sprintf_files/shBrushCpp.js"></script><script type="text/javascript" src="./sprintf_files/shBrushCpp.js"></script><script type="text/javascript" src="./sprintf_files/shBrushCpp.js"></script><style type="text/css">.syntaxhighlighter .toolbar{display:none!important}.syntaxhighlighter table td.code .container{padding-top:1px!important;padding-bottom:1px!important}.syntaxhighlighter table td.gutter .line,.syntaxhighlighter table td.code .line{background-color:#fff!important}.syntaxhighlighter a,.syntaxhighlighter div,.syntaxhighlighter code,.syntaxhighlighter table,.syntaxhighlighter table td,.syntaxhighlighter table tr,.syntaxhighlighter table tbody,.syntaxhighlighter table thead,.syntaxhighlighter table caption,.syntaxhighlighter textarea{line-height:1.3em!important}</style><script type="text/javascript">SyntaxHighlighter.all();</script><div class="clear"></div><div class="reinforce lazyload clearfix" lazy-path="/static/lemma/ui/view/reference/urlRmoveParentRefer.js"><style>#open-tag{padding-top:8px;padding-bottom:8px;line-height:30px;border-top:2px solid #ccc;border-bottom:0 solid #e6e6e6;overflow:hidden;position:relative;margin-bottom:35px}#open-tag dd{width:755px;*width:680px}.open-tag{background-color:#f5f5f5;border:1px solid #e6e6e6;margin-right:5px;padding:1px 4px;color:#666;white-space:nowrap;text-decoration:none;display:inline-block;margin-bottom:5px;line-height:16px;vertical-align:middle}.open-tag:hover{text-decoration:underline;color:#36c}.open-tag-title{font-weight:bold;float:left;padding-right:15px;height:20px;line-height:25px}.open-tag-collapse{background:url(/static/lemma/view/img/z-ref-toggle.png) 1px 8px no-repeat;position:absolute;right:0;top:0;width:10px;height:20px;margin:10px;cursor:pointer}.collapse .open-tag-collapse{background:url(/static/lemma/view/img/z-ref-toggle.png) -9px 8px no-repeat}</style><div id="open-tag" style="height: 22px;_height: 16px;"><div class="open-tag-title">词条标签：</div><dd id="open-tag-item">    <sapn class="taglist">计算机学</sapn>  </dd><div class="open-tag-collapse" id="open-tag-collapse" onclick="openTagToggle(this.parentNode)" style="display: none;"></div></div><div class="clear"></div><script>function openTagToggle(node) {if(baidu(node).hasClass("collapse")) {baidu(node).removeClass("collapse");baidu("#open-tag").css("height", (baidu.browser.ie<8)?'16px':'22px');}else {baidu(node).addClass("collapse");baidu("#open-tag").css("height", baidu("#open-tag-item").css("height"));}}F.use("/static/common/lib/tangram/base/base.js", function(baidu){if(parseInt(baidu("#open-tag-item").css("height")) <= 30) {baidu('#open-tag-collapse').hide();}});</script></div></div></div></div></div><div id="side" class="col-sub"><div class="lemma-picture summary-pic" style="width:268px; "><a class="image-link nslog:1198" href="http://baike.baidu.com/picture/1295144/1295144/0/3b87e950352ac65c18370557f9f2b21193138ae7.html?fr=lemma&ct=single" target="_blank" title="sprintf" style="width:268px;height:201px;"><img src="./sprintf_files/3b87e950352ac65c18370557f9f2b21193138ae7.jpg" alt="sprintf" style="width:268px;height:201px;"></a><a class="description nslog:10000202" title="sprintf图册" href="http://baike.baidu.com/album/1295144/1295144?fr=lemma" target="_blank"><span class="icon"></span>sprintf图册</a></div>     <a name="zhixinWrap" class="qnAnchor"></a> <div class="side-box-extend zhixin-box" id="zhixinWrap">    <div class="zhixin-group js-group"> <h6 class="js-cardTitle"> <span>相关函数</span>   </h6>  <div class="zhixin-fixBtn js-fixBtn"> <div class="openFix" title="若推荐内容有误，请点击纠错进行反馈">纠错</div> <div class="closeFix">关闭纠错</div> </div>   <div class="zhixin-list zhixin-list-5">    <div class="zhixin-item nslog-area:10000101" log-data-detail=""> <div class="portraitbox"> <a href="http://baike.baidu.com/view/656682.htm" target="_blank">  <img width="72" height="72" src="./sprintf_files/148f28d3d539b600b86483c2eb50352ac75cb7da.jpg" alt="fprintf"> s </a>  </div> <p class="item-title js-name"><a href="http://baike.baidu.com/view/656682.htm" target="_blank">fprintf</a></p> <div class="zhixinErrorBox js-fixBox hidden" data-lemma-id="10942325"> <a class="submit-trigger" href="javascript:;">有错误</a> <span class="js-text hidden">已反馈</span> </div> </div>    <div class="zhixin-item nslog-area:10000101" log-data-detail=""> <div class="portraitbox"> <a href="http://baike.baidu.com/view/1028534.htm" target="_blank">  <img width="72" height="72" src="./sprintf_files/109eb7ec8a136327a080be46938fa0ec08fac713.jpg" alt="strcat"> s </a>  </div> <p class="item-title js-name"><a href="http://baike.baidu.com/view/1028534.htm" target="_blank">strcat</a></p> <div class="zhixinErrorBox js-fixBox hidden" data-lemma-id="5522405"> <a class="submit-trigger" href="javascript:;">有错误</a> <span class="js-text hidden">已反馈</span> </div> </div>    <div class="zhixin-item nslog-area:10000101" log-data-detail=""> <div class="portraitbox"> <a href="http://baike.baidu.com/view/982195.htm" target="_blank">  <img width="72" height="72" src="./sprintf_files/148f28d3d539b600d18c6acfeb50352ac75cb7cd.jpg" alt="itoa"> s </a>  </div> <p class="item-title js-name"><a href="http://baike.baidu.com/view/982195.htm" target="_blank">itoa</a></p> <div class="zhixinErrorBox js-fixBox hidden" data-lemma-id="4747365"> <a class="submit-trigger" href="javascript:;">有错误</a> <span class="js-text hidden">已反馈</span> </div> </div>    <div class="zhixin-item nslog-area:10000101" log-data-detail=""> <div class="portraitbox"> <a href="http://baike.baidu.com/view/1390039.htm" target="_blank">  <img width="72" height="72" src="./sprintf_files/207ea60e7bec54e7de645741bb389b504ec26aa2.jpg" alt="scanf"> s </a>  </div> <p class="item-title js-name"><a href="http://baike.baidu.com/view/1390039.htm" target="_blank">scanf</a></p> <div class="zhixinErrorBox js-fixBox hidden" data-lemma-id="10773316"> <a class="submit-trigger" href="javascript:;">有错误</a> <span class="js-text hidden">已反馈</span> </div> </div>    <div class="zhixin-item nslog-area:10000101" log-data-detail=""> <div class="portraitbox"> <a href="http://baike.baidu.com/view/656681.htm" target="_blank">  <img width="72" height="72" src="./sprintf_files/504ec7f9d72a6059e245bd6f2a34349b033bba2b.jpg" alt="fopen"> s </a>  </div> <p class="item-title js-name"><a href="http://baike.baidu.com/view/656681.htm" target="_blank">fopen</a></p> <div class="zhixinErrorBox js-fixBox hidden" data-lemma-id="10942321"> <a class="submit-trigger" href="javascript:;">有错误</a> <span class="js-text hidden">已反馈</span> </div> </div>    <div class="zhixin-item nslog-area:10000101" log-data-detail=""> <div class="portraitbox"> <a href="http://baike.baidu.com/view/982208.htm" target="_blank">  <img width="72" height="72" src="./sprintf_files/d478a8003af33a874c0cad6ec45c10385343b526.jpg" alt="memset"> s </a>  </div> <p class="item-title js-name"><a href="http://baike.baidu.com/view/982208.htm" target="_blank">memset</a></p> <div class="zhixinErrorBox js-fixBox hidden" data-lemma-id="4747579"> <a class="submit-trigger" href="javascript:;">有错误</a> <span class="js-text hidden">已反馈</span> </div> </div>    <div class="zhixin-item nslog-area:10000101" log-data-detail=""> <div class="portraitbox"> <a href="http://baike.baidu.com/view/736225.htm" target="_blank">  <img width="72" height="72" src="./sprintf_files/7aad4ae736d12f2e01e5313f4dc2d5628435684a.jpg" alt="memcpy"> s </a>  </div> <p class="item-title js-name"><a href="http://baike.baidu.com/view/736225.htm" target="_blank">memcpy</a></p> <div class="zhixinErrorBox js-fixBox hidden" data-lemma-id="659918"> <a class="submit-trigger" href="javascript:;">有错误</a> <span class="js-text hidden">已反馈</span> </div> </div>    <div class="zhixin-item nslog-area:10000101" log-data-detail=""> <div class="portraitbox"> <a href="http://baike.baidu.com/view/745156.htm" target="_blank">  <img width="72" height="72" src="./sprintf_files/b25aae51f819861865ef43f148ed2e738ad4e6d8.jpg" alt="strstr"> s </a>  </div> <p class="item-title js-name"><a href="http://baike.baidu.com/view/745156.htm" target="_blank">strstr</a></p> <div class="zhixinErrorBox js-fixBox hidden" data-lemma-id="811469"> <a class="submit-trigger" href="javascript:;">有错误</a> <span class="js-text hidden">已反馈</span> </div> </div>    <div class="zhixin-item nslog-area:10000101" log-data-detail=""> <div class="portraitbox"> <a href="http://baike.baidu.com/view/1026924.htm" target="_blank">  <img width="72" height="72" src="./sprintf_files/4a77b2af2edda3cc8b70ec5703e93901203f92f6.jpg" alt="strcmp"> s </a>  </div> <p class="item-title js-name"><a href="http://baike.baidu.com/view/1026924.htm" target="_blank">strcmp</a></p> <div class="zhixinErrorBox js-fixBox hidden" data-lemma-id="5495571"> <a class="submit-trigger" href="javascript:;">有错误</a> <span class="js-text hidden">已反馈</span> </div> </div>           <div class="clear"></div> </div> </div>   </div> <form id="zhixinErrorForm" class="hidden" action="http://f3.baidu.com/index.php/feedback/zx/baikeJC" target="zhixinSubErr" method="post"> <input class="js-url" name="fb_html_url" type="hidden"> <input class="js-query" name="fb_query" type="hidden"> <input class="js-title" name="fb_card_title" type="hidden"> <input class="js-content" name="fb_content" type="hidden"> <input class="js-souceId" name="fb_source_id" type="hidden"> </form> <iframe id="zhixinSubErr" name="zhixinSubErr" style="display:none;" frameborder="0"></iframe> <script>F.use("/static/common/ui/nslog/nslog.js",function(nslog) {nslog(window.location.href, 10000103, {zhixinsrc: ""});});F.use("/static/widget/lemma/configModule/zhixin/zhixin.js");</script> <div class="side-box side-box-extend"><div class="side-title side-title-extend">词条统计</div><div class="side-list-item">浏览次数：<span id="viewPV">1007551</span>次</div><div class="side-list-item">编辑次数：67次 <a href="http://baike.baidu.com/historylist/sprintf" class="nslog:1021" target="_blank">历史版本</a></div><div class="side-list-item">最近更新：<span id="lastModifyTime">2015-02-11</span></div><div class="side-list-item">创建者：<span class="nslog:1022"><a title="查看此用户资料" class="usercard" username="gracegreener" target="_blank" href="http://www.baidu.com/p/gracegreener?from=wk">gracegreener</a></span></div></div><div style="" id="bkDynamic"><dl><dd class="task nslog-area" data-nslog-type="1023" id="task" style=""><dl><dd class="BKdynamic-img"><a href="http://tieba.baidu.com/p/3582348876" target="_blank"><img src="./sprintf_files/240112dszm2015.jpg" width="240" height="112"></a></dd></dl></dd><dd class="notice nslog-area" data-nslog-type="1024" id="notice"><dl><dt class="sidetitle2">百科消息：</dt><dd><a href="http://baike.baidu.com/view/63268.htm" target="_blank">安全用耳，保护听力的正确方式</a></dd><dd><a href="http://baike.baidu.com/museum/zigongkonglong" target="_blank">3D恐龙博物馆，邀你一起来体验</a></dd><dd><a href="http://tieba.baidu.com/p/3448769224" target="_blank">【公告】词条打标签功能上线啦！</a></dd><dd><a href="http://baike.baidu.com/museum/jingningshezu" target="_blank">景宁畲族自治县畲族博物馆上线啦！</a></dd></dl></dd></dl></div><style>#bkDynamic{padding-left:14px;padding-right:14px;margin-bottom:10px;padding:12px 15px;border:1px solid #e6e6e6;background:#fcfcfc}#bkDynamic .sidetitle2{color:#555;font-size:14px;font-weight:bold;margin-bottom:6px}#bkDynamic .BKdynamic-img{border-bottom:1px solid #e6e6e6;padding-bottom:10px}#bkDynamic .notice dd{font-size:12px;background:url(http://img.baidu.com/img/baike/bgs3.png) no-repeat 2px -99px;padding-left:12px;line-height:22px}#bkDynamic .notice dd a:link,#bkDynamic .notice dd a:visited,#bkDynamic .notice dd:hover{color:#666}#bkDynamic .notice dd:hover{text-decoration:underline}</style> <div id="mabox" style="display:none;width: 242px;padding: 10px 13px;border: 1px solid #e6e6e6;margin-bottom: 10px; overflow:hidden;zoom:1;">  <div id="box2-inner"> </div> <script type="text/javascript">F.use(["/static/common/ui/nslog/nslog.js", "/static/lemma/ui/view/maad3/maad3.js", "/static/common/ui/jquery/jquery.js"], function(nslog, e, $) {$.ajax({url: "/cms/config/lemma/deny_pheonix_lemma_list.json",dataType: "JSON",success: function(res) {var denyList = res.deny || [];if ($.inArray("sprintf", denyList) === -1) {nslog.set("lemmaid", "1295144");nslog.set("sublemmaid", "1295144");e.init("sprintf", "9703430");} else {$("#mabox").remove();} },error: function() {nslog.set("lemmaid", "1295144");nslog.set("sublemmaid", "1295144");e.init("sprintf", "9703430");}})});</script> </div><div id="side-catalog-showtag"></div><script>var baikeViewInfo=window.baikeViewInfo?window.baikeViewInfo:{};baikeViewInfo.expIndex=0;baikeViewInfo.cataList=baikeViewInfo.cataList?baikeViewInfo.cataList:[];baikeViewInfo.cataList = baikeViewInfo.cataList.concat([{"title":"\u51fd\u6570\u7b80\u4ecb","charnum":876,"screennum":1,"level":1,"index":1,"modules":[],"display":true,"ele":"1"},{"title":"\u529f\u80fd","charnum":28,"screennum":0,"level":2,"index":"1_1","modules":[],"display":true,"ele":"1_1"},{"title":"\u5934\u6587\u4ef6","charnum":7,"screennum":0,"level":2,"index":"1_2","modules":[],"display":true,"ele":"1_2"},{"title":"\u539f\u578b","charnum":63,"screennum":0,"level":2,"index":"1_3","modules":[],"display":true,"ele":"1_3"},{"title":"\u53c2\u6570\u5217\u8868","charnum":124,"screennum":0,"level":2,"index":"1_4","modules":[],"display":true,"ele":"1_4"},{"title":"\u76f8\u5173\u51fd\u6570","charnum":633,"screennum":0,"level":2,"index":"1_5","modules":[],"display":true,"ele":"1_5"},{"title":"\u8bf4\u660e\u53ca\u5e94\u7528","charnum":9133,"screennum":11,"level":1,"index":2,"modules":[],"display":true,"ele":"2"},{"title":"\u4f8b\u5b50","charnum":708,"screennum":0,"level":2,"index":"2_1","modules":[],"display":true,"ele":"2_1"},{"title":"\u8f6c\u6362\u5b57\u7b26","charnum":1360,"screennum":1,"level":2,"index":"2_2","modules":[],"display":true,"ele":"2_2"},{"title":"\u683c\u5f0f\u5316\u6570\u5b57\u5b57\u7b26\u4e32","charnum":2479,"screennum":3,"level":2,"index":"2_3","modules":[],"display":true,"ele":"2_3"},{"title":"\u5b57\u7b26\/Ascii\u7801","charnum":4558,"screennum":5,"level":2,"index":"2_4","modules":[],"display":true,"ele":"2_4"},{"title":"\u5e38\u89c1\u95ee\u9898","charnum":1435,"screennum":1,"level":1,"index":3,"modules":[],"display":true,"ele":"3"}]);</script></div></div><div class="lemma-guide"><div class="guide-wrapper"><div class="guide-newer block"><div class="guide-title">新手上路</div><div class="guide-link"><p><a target="_blank" class="left" href="http://baike.baidu.com/uc/task">成长任务</a><a target="_blank" href="http://baike.baidu.com/cms/s/help/index.html#main01">编辑入门</a></p><p><a target="_blank" class="left" href="http://baike.baidu.com/cms/s/help/index.html#main06">编辑规则</a><a target="_blank" href="http://baike.baidu.com/cms/s/help/index.html#main05">百科术语</a></p></div></div><div class="guide-question block"><div class="guide-title">我有疑问</div><div class="guide-link"><p><a target="_blank" class="left" href="http://baike.baidu.com/cms/s/help/index.html#main04">常见问题</a><a target="_blank" href="http://zhidao.baidu.com/new?ie=GBK">我要提问</a></p><p><a target="_blank" class="left" href="http://tieba.baidu.com/f?ie=utf-8&fr=bks0000&kw=%E7%99%BE%E5%BA%A6%E7%99%BE%E7%A7%91">参加讨论</a><a target="_blank" href="http://baike.baidu.com/feedback">意见反馈</a></p></div></div><div class="guide-suggestion block"><div class="guide-title">投诉建议</div><div class="guide-link"><p><a target="_blank" class="left" href="http://tousu.baidu.com/baike#1">举报不良信息</a><a target="_blank" href="http://tousu.baidu.com/baike#2">未通过词条申诉</a></p><p><a target="_blank" class="left" href="http://tousu.baidu.com/baike#4">投诉侵权信息</a><a target="_blank" href="http://tousu.baidu.com/baike#3">封禁查询与解封</a></p></div></div></div></div></div></div><div id="refTip" class="refTip-box"><table><tbody><tr><td valign="middle" class="refTip-bg"><div class="refTip-content" id="refTip-content"></div></td><td class="refTip-text" valign="middle">参考资料</td></tr></tbody></table><div class="refTip-triangle"></div></div><div id="topToolbar" style="position: fixed; top: 0px;"><div class="container"><div class="topuser">xingzhengde</div><div class="container2"><a class="toplogo" href="http://baike.baidu.com/" title="百度百科"></a><div class="topsearch"><div class="topsubmit" title="进入词条"></div><iframe class="topiframe"></iframe> <form action="http://baike.baidu.com/search/word" method="get" name="f1" target="_self" onsubmit="nslog(location.href, 9121);" id="ftop"><input type="text" id="topword" class="toptextinput" name="word" value="sprintf"><input id="search-enc" name="enc" type="hidden" value="utf8"><input id="sw1" name="pic" type="hidden" value="1"><input name="sug" type="hidden" value="1"></form></div><div class="topbtns"><a class="topbtn topedit" href="javascript: void(0);"></a><div class="topbtn topshoucang topshoucangbtn"><div class="topshoucangtip">查看<a href="http://baike.baidu.com/uc/favolemma" target="_blank">我的收藏</a></div></div><div class="topbtn topzan topzanbtn"></div></div></div></div></div><div id="sideToolbar" style="display: block; position: fixed; top: 168px; left: 887px;"><div id="sideCatalog" class="sideCatalogBg" style="visibility: visible;"><div id="sideCatalog-sidebar"><div class="sideCatalog-sidebar-top"></div><div class="sideCatalog-sidebar-bottom"></div></div><div id="sideCatalog-catalog"><dl style="width:175px;zoom:1"><dd class="sideCatalog-item1" id="sideToolbar-item-0-1"><span class="sideCatalog-index1">1</span><a href="http://baike.baidu.com/view/1295144.htm#1" class="nslog:1026" title="函数简介" onclick="return false;">函数简介</a><span class="sideCatalog-dot"></span></dd><dd class="sideCatalog-item2" id="sideToolbar-item-0-1_1"><span class="sideCatalog-index2">1.1</span><a href="http://baike.baidu.com/view/1295144.htm#1_1" class="nslog:1026" title="功能" onclick="return false;">功能</a><span class="sideCatalog-dot"></span></dd><dd class="sideCatalog-item2" id="sideToolbar-item-0-1_2"><span class="sideCatalog-index2">1.2</span><a href="http://baike.baidu.com/view/1295144.htm#1_2" class="nslog:1026" title="头文件" onclick="return false;">头文件</a><span class="sideCatalog-dot"></span></dd><dd class="sideCatalog-item2" id="sideToolbar-item-0-1_3"><span class="sideCatalog-index2">1.3</span><a href="http://baike.baidu.com/view/1295144.htm#1_3" class="nslog:1026" title="原型" onclick="return false;">原型</a><span class="sideCatalog-dot"></span></dd><dd class="sideCatalog-item2" id="sideToolbar-item-0-1_4"><span class="sideCatalog-index2">1.4</span><a href="http://baike.baidu.com/view/1295144.htm#1_4" class="nslog:1026" title="参数列表" onclick="return false;">参数列表</a><span class="sideCatalog-dot"></span></dd><dd class="sideCatalog-item2" id="sideToolbar-item-0-1_5"><span class="sideCatalog-index2">1.5</span><a href="http://baike.baidu.com/view/1295144.htm#1_5" class="nslog:1026" title="相关函数" onclick="return false;">相关函数</a><span class="sideCatalog-dot"></span></dd><dd class="sideCatalog-item1" id="sideToolbar-item-0-2"><span class="sideCatalog-index1">2</span><a href="http://baike.baidu.com/view/1295144.htm#2" class="nslog:1026" title="说明及应用" onclick="return false;">说明及应用</a><span class="sideCatalog-dot"></span></dd><dd class="sideCatalog-item2 highlight" id="sideToolbar-item-0-2_1"><span class="sideCatalog-index2">2.1</span><a href="http://baike.baidu.com/view/1295144.htm#2_1" class="nslog:1026" title="例子" onclick="return false;">例子</a><span class="sideCatalog-dot"></span></dd><dd class="sideCatalog-item2" id="sideToolbar-item-0-2_2"><span class="sideCatalog-index2">2.2</span><a href="http://baike.baidu.com/view/1295144.htm#2_2" class="nslog:1026" title="转换字符" onclick="return false;">转换字符</a><span class="sideCatalog-dot"></span></dd><dd class="sideCatalog-item2" id="sideToolbar-item-0-2_3"><span class="sideCatalog-index2">2.3</span><a href="http://baike.baidu.com/view/1295144.htm#2_3" class="nslog:1026" title="格式化数字字符串" onclick="return false;">格式化数字字符串</a><span class="sideCatalog-dot"></span></dd><dd class="sideCatalog-item2" id="sideToolbar-item-0-2_4"><span class="sideCatalog-index2">2.4</span><a href="http://baike.baidu.com/view/1295144.htm#2_4" class="nslog:1026" title="字符/Ascii码" onclick="return false;">字符/Ascii码</a><span class="sideCatalog-dot"></span></dd><dd class="sideCatalog-item1" id="sideToolbar-item-0-3"><span class="sideCatalog-index1">3</span><a href="http://baike.baidu.com/view/1295144.htm#3" class="nslog:1026" title="常见问题" onclick="return false;">常见问题</a><span class="sideCatalog-dot"></span></dd></dl></div></div><a id="sideCatalogBtn" href="javascript:void(0);" style="visibility: visible;" class=""></a><a id="sideToolbar-up" href="javascript:void(0)" style="visibility: visible;"></a></div><div id="bdshareside"><div id="bdshare" log-set-param="view_shareside" class="bdshare_t log-set-param bds_tools get-codes-bdshare bk_share" data="{&#39;url&#39;:&#39;http://baike.baidu.com/view/1295144.htm&#39;,&#39;text&#39;:&#39;【sprintf_百度百科】字符串格式化命令，主要功能是把格式化的数据写入某个字符串中。sprintf 是个变参函数。.....（分享自@百度百科）&#39;,&#39;pic&#39;:&#39;&#39;}"><div class="shareLogo">分享</div><div class="shareIcon"><a class="bds_qzone" title="分享到QQ空间" href="http://baike.baidu.com/view/1295144.htm#"></a><a class="bds_tsina" title="分享到新浪微博" href="http://baike.baidu.com/view/1295144.htm#"></a><a class="bds_tqq" title="分享到腾讯微博" href="http://baike.baidu.com/view/1295144.htm#"></a></div><span class="bds_more"></span></div></div><script>F.use(["/static/widget/lemma/picture_dialog/picture_dialog.js"],function(PDialog){PDialog.sendPageLog();PDialog.initializeAlbumLink();PDialog.initializePictureLink();});</script><div id="adLayerSideWrap"> <a id="adLayerSide" style="display:none" class="ad-layer-side" href="javascript:;" target="_blank"> <em class="close"></em>  </a>   </div><div id="footer" data-nslog-type="1001" class="nslog-area anchor">© 2015 Baidu <a target="_blank" href="http://www.baidu.com/duty/">使用百度前必读</a>&nbsp;|&nbsp;<a target="_blank" href="http://www.baidu.com/search/baike_help.html#百科协议">百科协议</a>&nbsp;|&nbsp;<a target="_blank" href="http://baike.baidu.com/hezuo/">百度百科合作平台</a></div><script>F.use("/static/common/lib/tangram/base/base.js", function(baidu){baidu.each = baidu.forEach;baidu.array.each = baidu.forEach;window.baidu = baidu;});</script><img src="./sprintf_files/c.gif" style="display:none;"><input id="titleVal" type="hidden" value="sprintf"><script type="text/javascript">F.use("/static/common/ui/nslog/nslog.js",function(nslog){nslog.set("page","view");nslog.set("lemmaid","1295144");nslog.set("ispolysemy","1");});F.use("/static/common/lib/tangram/base/base.js", function(baidu){baidu.each = baidu.forEach;baidu.array.each = baidu.forEach;window.baidu = baidu;});baikeInfo.panoramaImage = "0";F.use(["/static/lemma/ui/view/controller3/controller3.js","/static/common/ui/util/util.js","/static/common/lib/tangram/ui/Base/Base.js","/static/common/ui/dialog/dialog.js","/static/common/ui/nslog/nslog.js"],function(controller,util,uiBase,dialog,nslog){window.Dialog = dialog;F.use("/static/common/ui/fillusername/fillusername.js");F.use("/static/common/ui/userlogin/userlogin.js", function(e){e.check(function(){if(typeof PDC != 'undefined'){PDC.init({is_login : (window.curUser==0?false:true),sample : 0.12,product_id : 103,page_id : 1,special_pages:[{id:109,sample:0.1}]});}});});baidu.page.loadJsFile("http://img.baidu.com/hunter/baike.js?st=" + parseInt(new Date()/864e5));nslog.init();baidu.dom.ready(function(){if(!!window.rsInsertData && window.rsInsertData.length>0){F.use('/static/common/lib/tangram/fx/fx.js',function(){baidu.page.loadCssFile( "/guanxi/static/css/lemma_insert.css" );baidu.sio.callByBrowser( "/guanxi/static/js/lemma_insert.js?t=131421",null,{charset:"utf-8"} );});}});baidu("div[data-rendered]").click(function(){nslog(location.href, 9071, {stype: "click", lemmaId: baikeViewInfo.id});});if(baidu("div[data-rendered]")[0]) {nslog(location.href, 9071, {stype: "pv", lemmaId: baikeViewInfo.id});}});</script><script type="text/javascript">F.use("/static/common/ui/jquery/jquery.js",function($){$.ajax({url:'/cms/global/cms_lemma_config.js?r='+Math.random(),dataType:"jsonp"});});</script><script>(function(){PDC.extend({_navTiming:window.performance&&performance.timing,ready:(function(callback){var readyBound=false,readyList=[],DOMContentLoaded,isReady=false;if(document.addEventListener){DOMContentLoaded=function(){document.removeEventListener("DOMContentLoaded",DOMContentLoaded,false);ready()}}else{if(document.attachEvent){DOMContentLoaded=function(){if(document.readyState==="complete"){document.detachEvent("onreadystatechange",DOMContentLoaded);ready()}}}}function ready(){if(!isReady){isReady=true;for(var i=0,j=readyList.length;i<j;i++){readyList[i]()}}}function doScrollCheck(){try{document.documentElement.doScroll("left")}catch(e){setTimeout(doScrollCheck,1);return}ready()}function bindReady(){if(readyBound){return}readyBound=true;if(document.addEventListener){document.addEventListener("DOMContentLoaded",DOMContentLoaded,false);window.addEventListener("load",ready,false)}else{if(document.attachEvent){document.attachEvent("onreadystatechange",DOMContentLoaded);window.attachEvent("onload",ready);var toplevel=false;try{toplevel=window.frameElement==null}catch(e){}if(document.documentElement.doScroll&&toplevel){doScrollCheck()}}}}bindReady();return function(callback){isReady?callback():readyList.push(callback)}})(),Cookie:{set:function(name,value,max_age){max_age=max_age||10;var exp=new Date();exp.setTime(new Date().getTime()+max_age*1000);document.cookie=name+"="+escape(value)+";path=/;expires="+exp.toGMTString()},get:function(name){var arr=document.cookie.match(new RegExp("(^| )"+name+"=([^;]*)(;|$)"));if(arr!=null){return unescape(arr[2])}return null},remove:function(name){this.set(name,"",-1)}},_is_sample:function(ratio){if(!PDC._random){PDC._random=Math.random()}return PDC._random<=ratio},_load_analyzer:function(){var special_pages=this._opt.special_pages||[];var radios=[this._opt.sample];for(var i=0;i<special_pages.length;i++){radios.push(special_pages[i]["sample"])}var radio=Math.max.apply(null,radios);if(PDC._is_sample(radio)==false){return}PDC._analyzer.loaded=true;PDC._load_js(PDC._analyzer.url,function(){var callbacks=PDC._analyzer.callbacks;for(var i=0,l=callbacks.length;i<l;i++){callbacks[i]()}})},_load_js:function(url,callback){var script=document.createElement("script");script.setAttribute("type","text/javascript");script.setAttribute("src",url);script.onload=script.onreadystatechange=function(){if(!this.readyState||this.readyState=="loaded"||this.readyState=="complete"){script.onload=script.onreadystatechange=null;if(typeof callback==="function"){callback(url,true)}}};script.onerror=function(e){if(typeof callback==="function"){callback(url,false)}};document.getElementsByTagName("head")[0].appendChild(script)},send:function(){if(PDC._analyzer.loaded==true){WPO_PDA.send()}else{PDC._load_analyzer();PDC._analyzer.callbacks.push(function(){WPO_PDA.send()})}}},PDC);!function(){var Cookie=PDC.Cookie,jt=Cookie.get("PMS_JT"),isset=false;if(jt){Cookie.remove("PMS_JT");jt=eval(jt);if(!jt.r||document.referrer.replace(/#.*/,"")==jt.r){(PDC._render_start-jt.s)>100&&PDC.mark("wt",(PDC._render_start-jt.s))}}function findParent(tagname,el){var flag=0;if((el.nodeName||el.tagName).toLowerCase()===tagname.toLowerCase()){return el}while(el=el.parentNode){flag++;if((el.nodeName||el.tagName).toLowerCase()===tagname.toLowerCase()){return el}if(flag>=4){return null}}return null}function clickHandle(e){var e=e||window.event;var target=e.target||e.srcElement;var from=findParent("a",target);if(from){var url=from.getAttribute("href");if(!/^#|javascript:/.test(url)){Cookie.set("PMS_JT",'({"s":'+(+new Date)+',"r":"'+document.URL.replace(/#.*/,"")+'"})');isset=true}}}if(document.attachEvent){document.attachEvent("onclick",clickHandle)}else{document.addEventListener("click",clickHandle,false)}}();PDC.ready(function(){PDC.mark("drt")});if(document.attachEvent){window.attachEvent("onload",function(){PDC.mark("lt")},false)}else{window.addEventListener("load",function(){PDC.mark("let");PDC._setFS&&PDC._setFS();PDC._opt.ready!==false&&PDC._load_analyzer()})}})();</script><!--TRACE：10-36-103-67@2015-03-02 18:15:12--><script id="hiddenlpsubmitdiv" style="display: none;"></script><script>try{for(var lastpass_iter=0; lastpass_iter < document.forms.length; lastpass_iter++){ var lastpass_f = document.forms[lastpass_iter]; if(typeof(lastpass_f.lpsubmitorig2)=="undefined"){ lastpass_f.lpsubmitorig2 = lastpass_f.submit; lastpass_f.submit = function(){ var form=this; var customEvent = document.createEvent("Event"); customEvent.initEvent("lpCustomEvent", true, true); var d = document.getElementById("hiddenlpsubmitdiv"); if (d) {for(var i = 0; i < document.forms.length; i++){ if(document.forms[i]==form){ if (typeof(d.innerText) != 'undefined') { d.innerText=i; } else { d.textContent=i; } } } d.dispatchEvent(customEvent); }form.lpsubmitorig2(); } } }}catch(e){}</script><div id="usercard-wrap" class="usercard-wrap usercardwrap"><div class="user-card fix" style="opacity: 0;"><div class="top-bg"></div><div class="card-body fix"><div class="uc-l"><div class="uc-pic"></div><div class="uc-name"><a class="uc-id" href=""></a></div><div class="uc-level"></div></div><div class="uc-r"><div class="uc-items"><div class="uc-role fix"></div><div class="uc-badge fix"></div><div class="uc-honor"></div><div class="uc-going-task fix"></div><div class="uc-gq"></div><div class="uc-default"></div><div class="uc-edit"></div></div><span class="pillar"></span></div></div></div></div><div class="wgt_bubble wgt-bubble-userMenu" style="display: none;"><ul><li class="top"><a href="http://baike.baidu.com/uc/home" target="_blank">我的百科</a></li><li><a href="http://baike.baidu.com/uc/task" target="_blank">我的任务</a></li><li><a href="http://baike.baidu.com/uc/effort" target="_blank">我的词条</a></li><li><a href="http://passport.baidu.com/center" target="_blank">账号设置</a></li><li class="bottom logout"><a data-action="logout" href="javascript:;">退出</a></li></ul><em class="tail">◆</em></div><div class="wgt_bubble wgt-bubble-userMsg" style="display: none;"><ul><li class="top"><a href="http://baike.baidu.com/messages" target="_blank"><span class="userMsgType">通知</span></a></li><li class="bottom"><a href="http://msg.baidu.com/" target="_blank"><span class="userMsgType">私信</span></a></li></ul><em class="tail">◆</em></div></body></html>